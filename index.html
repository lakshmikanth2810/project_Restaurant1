<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SunnyBite Restaurant â€” Digital Menu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <div class="header-row">
          <div class="brand-section">
          <h1 class="brand" data-i18n="restaurant">Restaurant</h1>
          <p class="brand-subtitle" data-i18n="premiumDining">Premium Dining Experience</p>
        </div>
          <div class="header-actions">
            <button id="cta-order" class="premium-order-btn ripple-container" type="button">
              <span class="order-icon">ğŸ›’</span>
              <span class="order-text" data-i18n="orderNow">Order Now</span>
              <span class="order-badge">
                <span id="cart-count" class="badge-count">0</span>
              </span>
              <span class="order-price">
                <span id="cart-total">$0.00</span>
              </span>
            </button>
            <div class="language-selector">
              <select id="language-select" class="language-dropdown">
                <option value="en">English</option>
                <option value="te">à°¤à±†à°²à±à°—à± (Telugu)</option>
                <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)</option>
              </select>
            </div>
            <button id="theme-toggle" class="theme-toggle-btn" type="button" aria-label="Toggle dark mode" aria-pressed="false">
              <span class="theme-toggle-icon">ğŸŒ™</span>
              <span class="theme-toggle-text">Dark</span>
            </button>
          </div>
        </div>
        <p class="tagline" data-i18n="tagline">ğŸŒŸ Fresh â€¢ Warm â€¢ Delicious ğŸŒŸ</p>
        <p class="tagline-subtitle" data-i18n="taglineSubtitle">Crafted with passion, served with love. Experience culinary excellence.</p>
      </div>
    </header>

    <main class="container">
      <section class="intro-section fade-section" style="--fade-delay: 80ms;">
        <h2 class="intro-title" data-i18n="welcomeTitle">Welcome to Our Restaurant</h2>
        <p class="intro-text" data-i18n="welcomeText">Discover our carefully curated menu featuring the finest ingredients sourced locally. Each dish is prepared by our expert chefs with attention to detail and passion for excellence. Whether you're looking for a quick bite or a full dining experience, we have something special for you.</p>
      </section>

      <nav class="filter-bar fade-section" aria-label="Filter menu categories" style="--fade-delay: 160ms;">
        <button class="filter-btn is-active" data-filter="all" type="button">
          <span class="filter-icon">ğŸ½ï¸</span>
          <span class="filter-label" data-i18n="allMenu">All Menu</span>
        </button>
        <button class="filter-btn" data-filter="starters" type="button">
          <span class="filter-icon">ğŸ¥—</span>
          <span class="filter-label" data-i18n="starters">Starters</span>
        </button>
        <button class="filter-btn" data-filter="mains" type="button">
          <span class="filter-icon">ğŸ</span>
          <span class="filter-label" data-i18n="mainCourses">Main Courses</span>
        </button>
        <button class="filter-btn" data-filter="desserts" type="button">
          <span class="filter-icon">ğŸ°</span>
          <span class="filter-label" data-i18n="desserts">Desserts</span>
        </button>
      </nav>

      <section class="menu-section fade-section" id="starters-section" style="--fade-delay: 240ms;">
        <h2 class="section-title">
          <button class="pill pill-starters linklike" data-filter="starters" type="button"><span data-i18n="startersSection">ğŸ¥— Starters</span></button>
        </h2>
        <ul id="starters" class="menu-grid" aria-live="polite"></ul>
      </section>

      <section class="menu-section fade-section" id="mains-section" style="--fade-delay: 320ms;">
        <h2 class="section-title">
          <button class="pill pill-mains linklike" data-filter="mains" type="button"><span data-i18n="mainCoursesSection">ğŸ Main Courses</span></button>
        </h2>
        <ul id="mains" class="menu-grid" aria-live="polite"></ul>
      </section>

      <section class="menu-section fade-section" id="desserts-section" style="--fade-delay: 400ms;">
        <h2 class="section-title">
          <button class="pill pill-desserts linklike" data-filter="desserts" type="button"><span data-i18n="dessertsSection">ğŸ° Desserts</span></button>
        </h2>
        <ul id="desserts" class="menu-grid" aria-live="polite"></ul>
      </section>

      <div id="status" class="status" role="status" aria-live="polite"></div>
    </main>

    <footer class="site-footer fade-section" style="--fade-delay: 480ms;">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Restaurant</h3>
            <p>ğŸª 123 Culinary Street, Food City</p>
            <p>ğŸ“ (555) 123-4567</p>
            <p>ğŸ“§ hello@restaurant.com</p>
          </div>
          <div class="footer-section">
            <h3>Hours</h3>
            <p>Mon - Thu: 11:00 AM - 10:00 PM</p>
            <p>Fri - Sat: 11:00 AM - 11:00 PM</p>
            <p>Sunday: 12:00 PM - 9:00 PM</p>
          </div>
          <div class="footer-section">
            <h3>Follow Us</h3>
            <p>ğŸŒ Facebook â€¢ Instagram â€¢ Twitter</p>
            <p>â­ Rate us on Google & TripAdvisor</p>
          </div>
        </div>
        <div class="footer-bottom">
         <p>&copy; <span id="year"></span> Restaurant â€¢ Made with â¤ï¸ â€¢ All rights reserved</p>
        </div>
      </div>
    </footer>

    <div class="manager-access" aria-hidden="true">
      <button id="admin-dashboard" class="manager-btn" type="button" title="Admin Dashboard">ğŸ“ˆ</button>
      <button id="manager-orders" class="manager-btn" type="button" title="Manager orders">ğŸ“Š</button>
    </div>

    <!-- Order Modal -->
    <div id="order-modal" class="modal-overlay hidden" role="dialog" aria-labelledby="modal-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header">
          <h2 id="modal-title" class="modal-title" data-i18n="yourOrder">Your Order</h2>
          <button class="modal-close" type="button" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
          <div id="cart-contents"></div>
          <div class="cart-summary">
            <div class="summary-row">
              <span data-i18n="items">Items:</span>
              <span id="modal-item-count">0</span>
            </div>
            <div class="summary-row total">
              <strong data-i18n="total">Total:</strong>
              <strong id="modal-total">$0.00</strong>
            </div>
          </div>
          <div class="customer-info-section">
            <label for="customer-name"><strong data-i18n="customerName">Customer Name</strong></label>
            <input id="customer-name" type="text" name="customer-name" data-i18n-placeholder="enterCustomerName" placeholder="Enter customer name" autocomplete="name" />
          </div>
          <div class="order-type-section">
            <label><strong data-i18n="howWouldYouLikeOrder">How would you like your order?</strong></label>
            <div class="order-type-buttons">
              <button type="button" class="order-type-btn" data-type="Dine-in">
                <span class="order-type-icon">ğŸ½ï¸</span>
                <span class="order-type-label" data-i18n="dineIn">Dine-in</span>
              </button>
              <button type="button" class="order-type-btn" data-type="Takeout">
                <span class="order-type-icon">ğŸ“¦</span>
                <span class="order-type-label" data-i18n="takeout">Takeout</span>
              </button>
              <button type="button" class="order-type-btn" data-type="Delivery">
                <span class="order-type-icon">ğŸšš</span>
                <span class="order-type-label" data-i18n="delivery">Delivery</span>
              </button>
            </div>
            <input type="hidden" id="order-type" value="">
          </div>
          <div class="payment-method-section">
            <label><strong data-i18n="paymentMethod">Payment Method</strong></label>
            <div class="payment-method-buttons">
              <button type="button" class="payment-method-btn" data-method="Online">
                <span class="payment-method-icon">ğŸ’³</span>
                <span class="payment-method-label" data-i18n="onlinePayment">Online Payment</span>
              </button>
              <button type="button" class="payment-method-btn" data-method="Offline">
                <span class="payment-method-icon">ğŸ’µ</span>
                <span class="payment-method-label" data-i18n="offlinePayment">Offline Payment</span>
              </button>
            </div>
            <input type="hidden" id="payment-method" value="">
          </div>
          <div class="modal-actions">
            <button id="finalize-order" class="primary-cta" type="button" data-i18n="finalizeOrder">Finalize Order</button>
            <button id="cancel-order" class="secondary-btn" type="button" data-i18n="cancel">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal-overlay hidden" role="dialog" aria-labelledby="payment-modal-title" aria-modal="true">
      <div class="modal payment-modal">
        <div class="modal-header">
          <h2 id="payment-modal-title" class="modal-title" data-i18n="paymentTitle">Complete Payment</h2>
          <button class="modal-close payment-modal-close" type="button" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="payment-info">
            <div class="payment-amount-section">
              <p class="payment-label" data-i18n="amountToPay">Amount to Pay</p>
              <p class="payment-amount" id="payment-amount">$0.00</p>
            </div>
            <div class="qr-code-container">
              <p class="qr-instruction" data-i18n="scanToPay">Scan the QR code to pay</p>
              <div id="qrcode" class="qrcode-wrapper"></div>
              <p class="qr-note" data-i18n="paymentNote">Please complete the payment to confirm your order</p>
            </div>
            <div class="payment-status" id="payment-status">
              <div class="payment-status-icon">â³</div>
              <p class="payment-status-text" data-i18n="waitingPayment">Waiting for payment...</p>
            </div>
          </div>
          <div class="modal-actions">
            <button id="confirm-payment" class="primary-cta" type="button" data-i18n="confirmPayment">Confirm Payment</button>
            <button id="cancel-payment" class="secondary-btn" type="button" data-i18n="cancelPayment">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div id="admin-dashboard-modal" class="modal-overlay hidden" role="dialog" aria-labelledby="dashboard-modal-title" aria-modal="true">
      <div class="modal dashboard-modal-large">
        <div class="modal-header dashboard-header">
          <h2 id="dashboard-modal-title" class="modal-title" data-i18n="adminDashboard">ğŸ“ˆ Admin Dashboard</h2>
          <div class="dashboard-header-actions">
            <div class="language-selector">
              <select id="dashboard-language-select" class="language-dropdown">
                <option value="en">English</option>
                <option value="te">à°¤à±†à°²à±à°—à± (Telugu)</option>
                <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)</option>
              </select>
            </div>
            <button id="dashboard-theme-toggle" class="theme-toggle-btn" type="button" aria-label="Toggle dark mode" aria-pressed="false">
              <span class="theme-toggle-icon">ğŸŒ™</span>
              <span class="theme-toggle-text">Dark</span>
            </button>
          </div>
        </div>
        <div class="modal-body dashboard-body">
          <div class="dashboard-stats-grid">
            <div class="stat-card">
              <div class="stat-icon">ğŸ’°</div>
              <div class="stat-content">
                <h3 class="stat-label" data-i18n="totalRevenue">Total Revenue</h3>
                <p class="stat-value" id="stat-total-revenue">$0.00</p>
                <p class="stat-change positive" data-i18n="fromLastPeriod">+0% from last period</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“¦</div>
              <div class="stat-content">
                <h3 class="stat-label" data-i18n="totalOrders">Total Orders</h3>
                <p class="stat-value" id="stat-total-orders">0</p>
                <p class="stat-change positive" data-i18n="ordersCount">+0 orders</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ‘¥</div>
              <div class="stat-content">
                <h3 class="stat-label" data-i18n="totalCustomers">Total Customers</h3>
                <p class="stat-value" id="stat-total-customers">0</p>
                <p class="stat-change positive" data-i18n="uniqueCustomers">+0 unique customers</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“Š</div>
              <div class="stat-content">
                <h3 class="stat-label" data-i18n="avgOrderValue">Average Order Value</h3>
                <p class="stat-value" id="stat-avg-order">$0.00</p>
                <p class="stat-change" data-i18n="basedOnAllOrders">Based on all orders</p>
              </div>
            </div>
          </div>

          <div class="dashboard-charts-grid">
            <div class="chart-card">
              <h3 class="chart-title" data-i18n="revenueOverTime">Revenue Over Time</h3>
              <canvas id="revenue-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3 class="chart-title" data-i18n="ordersByType">Orders by Type</h3>
              <canvas id="orders-type-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3 class="chart-title" data-i18n="paymentMethods">Payment Methods</h3>
              <canvas id="payment-method-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3 class="chart-title" data-i18n="topSellingItems">Top Selling Items</h3>
              <canvas id="top-items-chart"></canvas>
            </div>
          </div>

          <div class="dashboard-table-section">
            <h3 class="section-title" data-i18n="recentOrdersSummary">Recent Orders Summary</h3>
            <div id="dashboard-orders-summary" class="dashboard-orders-list">
              <!-- Will be populated by JavaScript -->
            </div>
          </div>

          <div class="modal-actions">
            <button id="refresh-dashboard" class="primary-cta" type="button" data-i18n="refreshDashboard">ğŸ”„ Refresh Dashboard</button>
            <button id="close-dashboard" class="secondary-btn" type="button" data-i18n="close">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Saved Orders Modal -->
    <div id="saved-orders-modal" class="modal-overlay hidden" role="dialog" aria-labelledby="saved-modal-title" aria-modal="true">
      <div class="modal saved-orders-modal-large">
        <div class="modal-header">
          <h2 id="saved-modal-title" class="modal-title">Saved Demo Orders</h2>
          <button id="saved-modal-close" class="modal-close" type="button" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="orders-filters">
            <div class="filter-group">
              <label for="filter-order-type">Order Type:</label>
              <select id="filter-order-type" class="filter-select">
                <option value="">All Types</option>
                <option value="Dine-in">Dine-in</option>
                <option value="Takeout">Takeout</option>
                <option value="Delivery">Delivery</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="filter-customer">Customer:</label>
              <input type="text" id="filter-customer" class="filter-input" placeholder="Search customer name..." />
            </div>
            <div class="filter-group">
              <label for="filter-date">Date:</label>
              <input type="date" id="filter-date" class="filter-input" />
            </div>
            <button id="reset-filters" class="secondary-btn" type="button">Reset Filters</button>
          </div>
          <div id="saved-orders-contents" class="orders-table-container">
            <!-- Saved orders table will be injected here -->
          </div>
          <div class="modal-actions">
            <button id="download-orders" class="primary-cta" type="button">Download Orders CSV</button>
            <button id="clear-saved-orders" class="secondary-btn" type="button">Clear Saved Orders</button>
            <button id="close-saved-orders" class="primary-cta" type="button">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const currency = new Intl.NumberFormat(undefined, { style: "currency", currency: "USD" });

      // Translation object
      const translations = {
        en: {
          restaurant: "Restaurant",
          premiumDining: "Premium Dining Experience",
          tagline: "ğŸŒŸ Fresh â€¢ Warm â€¢ Delicious ğŸŒŸ",
          taglineSubtitle: "Crafted with passion, served with love. Experience culinary excellence.",
          orderNow: "Order Now",
          welcomeTitle: "Welcome to Our Restaurant",
          welcomeText: "Discover our carefully curated menu featuring the finest ingredients sourced locally. Each dish is prepared by our expert chefs with attention to detail and passion for excellence. Whether you're looking for a quick bite or a full dining experience, we have something special for you.",
          allMenu: "All Menu",
          starters: "Starters",
          mainCourses: "Main Courses",
          desserts: "Desserts",
          startersSection: "ğŸ¥— Starters",
          mainCoursesSection: "ğŸ Main Courses",
          dessertsSection: "ğŸ° Desserts",
          addToOrder: "Add to order",
          yourOrder: "Your Order",
          items: "Items:",
          total: "Total:",
          customerName: "Customer Name",
          enterCustomerName: "Enter customer name",
          howWouldYouLikeOrder: "How would you like your order?",
          dineIn: "Dine-in",
          takeout: "Takeout",
          delivery: "Delivery",
          finalizeOrder: "Finalize Order",
          cancel: "Cancel",
          ratingLabel: "Rating",
          paymentMethod: "Payment Method",
          onlinePayment: "Online Payment",
          offlinePayment: "Offline Payment",
          paymentTitle: "Complete Payment",
          amountToPay: "Amount to Pay",
          scanToPay: "Scan the QR code to pay",
          paymentNote: "Please complete the payment to confirm your order",
          waitingPayment: "Waiting for payment...",
          confirmPayment: "Confirm Payment",
          cancelPayment: "Cancel",
          paymentSuccess: "Payment successful!",
          paymentFailed: "Payment failed. Please try again.",
          processingPayment: "Processing payment...",
          paymentFailedMax: "Payment failed. Maximum attempts reached.",
          pleaseTryOffline: "Please try offline payment or contact support.",
          retryPayment: "Retry Payment",
          // Dashboard translations
          adminDashboard: "ğŸ“ˆ Admin Dashboard",
          totalRevenue: "Total Revenue",
          fromLastPeriod: "+0% from last period",
          totalOrders: "Total Orders",
          ordersCount: "+0 orders",
          totalCustomers: "Total Customers",
          uniqueCustomers: "+0 unique customers",
          avgOrderValue: "Average Order Value",
          basedOnAllOrders: "Based on all orders",
          revenueOverTime: "Revenue Over Time",
          ordersByType: "Orders by Type",
          paymentMethods: "Payment Methods",
          topSellingItems: "Top Selling Items",
          recentOrdersSummary: "Recent Orders Summary",
          refreshDashboard: "ğŸ”„ Refresh Dashboard",
          close: "Close",
          // Menu items - Starters
          "Garlic Herb Bread": "Garlic Herb Bread",
          "Garlic Herb Bread_desc": "Toasted baguette with roasted garlic butter and parsley.",
          "Tomato Basil Bruschetta": "Tomato Basil Bruschetta",
          "Tomato Basil Bruschetta_desc": "Ripe tomatoes, basil, and olive oil on crispy ciabatta.",
          "Roasted Pumpkin Soup": "Roasted Pumpkin Soup",
          "Roasted Pumpkin Soup_desc": "Velvety pumpkin with a hint of nutmeg and cream.",
          // Menu items - Mains
          "Citrus Glazed Salmon": "Citrus Glazed Salmon",
          "Citrus Glazed Salmon_desc": "Pan-seared salmon with orange glaze, served with greens.",
          "Grilled Chicken Alfredo": "Grilled Chicken Alfredo",
          "Grilled Chicken Alfredo_desc": "Fettuccine tossed in creamy sauce with grilled chicken.",
          "Margherita Pizza": "Margherita Pizza",
          "Margherita Pizza_desc": "San Marzano tomato, fresh mozzarella, and basil.",
          "Veggie Power Bowl": "Veggie Power Bowl",
          "Veggie Power Bowl_desc": "Quinoa, roasted veggies, chickpeas, avocado, lemon tahini.",
          // Menu items - Desserts
          "Classic Tiramisu": "Classic Tiramisu",
          "Classic Tiramisu_desc": "Espresso-soaked ladyfingers with mascarpone and cocoa.",
          "Warm Apple Crumble": "Warm Apple Crumble",
          "Warm Apple Crumble_desc": "Spiced apples with a buttery crumble, served with vanilla.",
          "Lemon Cheesecake": "Lemon Cheesecake",
          "Lemon Cheesecake_desc": "Silky cheesecake with bright lemon zest and curd."
        },
        te: {
          restaurant: "à°°à±†à°¸à±à°Ÿà°¾à°°à±†à°‚à°Ÿà±",
          premiumDining: "à°ªà±à°°à±€à°®à°¿à°¯à°‚ à°¡à±ˆà°¨à°¿à°‚à°—à± à°…à°¨à±à°­à°µà°‚",
          tagline: "ğŸŒŸ à°¤à°¾à°œà°¾ â€¢ à°µà±†à°šà±à°šà°¨à°¿ â€¢ à°°à±à°šà°¿à°•à°°à°®à±ˆà°¨ ğŸŒŸ",
          taglineSubtitle: "à°…à°­à°¿à°°à±à°šà°¿à°¤à±‹ à°¤à°¯à°¾à°°à± à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿, à°ªà±à°°à±‡à°®à°¤à±‹ à°¸à±‡à°µ à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿. à°µà°‚à°Ÿà°•à°¾à°² à°¶à±à°°à±‡à°·à±à° à°¤à°¨à± à°…à°¨à±à°­à°µà°¿à°‚à°šà°‚à°¡à°¿.",
          orderNow: "à°‡à°ªà±à°ªà±à°¡à±‡ à°†à°°à±à°¡à°°à± à°šà±‡à°¯à°‚à°¡à°¿",
          welcomeTitle: "à°®à°¾ à°°à±†à°¸à±à°Ÿà°¾à°°à±†à°‚à°Ÿà±â€Œà°•à± à°¸à±à°µà°¾à°—à°¤à°‚",
          welcomeText: "à°¸à±à°¥à°¾à°¨à°¿à°•à°‚à°—à°¾ à°¸à±‡à°•à°°à°¿à°‚à°šà°¿à°¨ à°‰à°¤à±à°¤à°® à°ªà°¦à°¾à°°à±à°¥à°¾à°²à°¤à±‹ à°®à°¾ à°œà°¾à°—à±à°°à°¤à±à°¤à°—à°¾ à°à°‚à°ªà°¿à°• à°šà±‡à°¸à°¿à°¨ à°®à±†à°¨à±‚à°¨à± à°•à°¨à±à°—à±Šà°¨à°‚à°¡à°¿. à°ªà±à°°à°¤à°¿ à°µà°‚à°Ÿà°•à°‚ à°®à°¾ à°¨à°¿à°ªà±à°£à±à°² à°·à±†à°«à±â€Œà°²à°šà±‡ à°µà°¿à°µà°°à°¾à°²à°•à± à°¶à±à°°à°¦à±à°§ à°®à°°à°¿à°¯à± à°¶à±à°°à±‡à°·à±à° à°¤ à°•à±‹à°¸à°‚ à°…à°­à°¿à°°à±à°šà°¿à°¤à±‹ à°¤à°¯à°¾à°°à± à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿. à°®à±€à°°à± à°¶à±€à°˜à±à°° à°¨à°®à°²à°¡à°‚ à°•à±‹à°¸à°‚ à°šà±‚à°¸à±à°¤à±à°¨à±à°¨à°¾ à°²à±‡à°¦à°¾ à°ªà±‚à°°à±à°¤à°¿ à°¡à±ˆà°¨à°¿à°‚à°—à± à°…à°¨à±à°­à°µà°‚ à°•à±‹à°¸à°‚ à°šà±‚à°¸à±à°¤à±à°¨à±à°¨à°¾, à°®à±€ à°•à±‹à°¸à°‚ à°à°¦à±‹ à°ªà±à°°à°¤à±à°¯à±‡à°•à°®à±ˆà°¨à°¦à°¿ à°‰à°‚à°¦à°¿.",
          allMenu: "à°…à°¨à±à°¨à°¿ à°®à±†à°¨à±‚",
          starters: "à°¸à±à°Ÿà°¾à°°à±à°Ÿà°°à±â€Œà°²à±",
          mainCourses: "à°ªà±à°°à°§à°¾à°¨ à°µà°‚à°Ÿà°•à°¾à°²à±",
          desserts: "à°¡à±†à°œà°°à±à°Ÿà±â€Œà°²à±",
          startersSection: "ğŸ¥— à°¸à±à°Ÿà°¾à°°à±à°Ÿà°°à±â€Œà°²à±",
          mainCoursesSection: "ğŸ à°ªà±à°°à°§à°¾à°¨ à°µà°‚à°Ÿà°•à°¾à°²à±",
          dessertsSection: "ğŸ° à°¡à±†à°œà°°à±à°Ÿà±â€Œà°²à±",
          addToOrder: "à°†à°°à±à°¡à°°à±â€Œà°•à± à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿",
          yourOrder: "à°®à±€ à°†à°°à±à°¡à°°à±",
          items: "à°µà°¸à±à°¤à±à°µà±à°²à±:",
          total: "à°®à±Šà°¤à±à°¤à°‚:",
          customerName: "à°•à°¸à±à°Ÿà°®à°°à± à°ªà±‡à°°à±",
          enterCustomerName: "à°•à°¸à±à°Ÿà°®à°°à± à°ªà±‡à°°à± à°¨à°®à±‹à°¦à± à°šà±‡à°¯à°‚à°¡à°¿",
          howWouldYouLikeOrder: "à°®à±€à°°à± à°®à±€ à°†à°°à±à°¡à°°à±â€Œà°¨à± à°à°²à°¾ à°•à±‹à°°à±à°•à±à°‚à°Ÿà°¾à°°à±?",
          dineIn: "à°¡à±ˆà°¨à±-à°‡à°¨à±",
          takeout: "à°Ÿà±‡à°•à±Œà°Ÿà±",
          delivery: "à°¡à±†à°²à°¿à°µà°°à±€",
          finalizeOrder: "à°†à°°à±à°¡à°°à±â€Œà°¨à± à°…à°‚à°¤à°¿à°®à±€à°•à°°à°¿à°‚à°šà°‚à°¡à°¿",
          cancel: "à°°à°¦à±à°¦à± à°šà±‡à°¯à°‚à°¡à°¿",
          ratingLabel: "à°°à±‡à°Ÿà°¿à°‚à°—à±",
          paymentMethod: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°ªà°¦à±à°§à°¤à°¿",
          onlinePayment: "à°†à°¨à±â€Œà°²à±ˆà°¨à± à°šà±†à°²à±à°²à°¿à°‚à°ªà±",
          offlinePayment: "à°†à°«à±â€Œà°²à±ˆà°¨à± à°šà±†à°²à±à°²à°¿à°‚à°ªà±",
          paymentTitle: "à°šà±†à°²à±à°²à°¿à°‚à°ªà±à°¨à± à°ªà±‚à°°à±à°¤à°¿ à°šà±‡à°¯à°‚à°¡à°¿",
          amountToPay: "à°šà±†à°²à±à°²à°¿à°‚à°šà°¾à°²à±à°¸à°¿à°¨ à°®à±Šà°¤à±à°¤à°‚",
          scanToPay: "à°šà±†à°²à±à°²à°¿à°‚à°šà°¡à°¾à°¨à°¿à°•à°¿ QR à°•à±‹à°¡à±â€Œà°¨à± à°¸à±à°•à°¾à°¨à± à°šà±‡à°¯à°‚à°¡à°¿",
          paymentNote: "à°®à±€ à°†à°°à±à°¡à°°à±â€Œà°¨à± à°¨à°¿à°°à±à°§à°¾à°°à°¿à°‚à°šà°¡à°¾à°¨à°¿à°•à°¿ à°¦à°¯à°šà±‡à°¸à°¿ à°šà±†à°²à±à°²à°¿à°‚à°ªà±à°¨à± à°ªà±‚à°°à±à°¤à°¿ à°šà±‡à°¯à°‚à°¡à°¿",
          waitingPayment: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°•à±‹à°¸à°‚ à°µà±‡à°šà°¿ à°‰à°‚à°¦à°¿...",
          confirmPayment: "à°šà±†à°²à±à°²à°¿à°‚à°ªà±à°¨à± à°¨à°¿à°°à±à°§à°¾à°°à°¿à°‚à°šà°‚à°¡à°¿",
          cancelPayment: "à°°à°¦à±à°¦à± à°šà±‡à°¯à°‚à°¡à°¿",
          paymentSuccess: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°µà°¿à°œà°¯à°µà°‚à°¤à°®à±ˆà°‚à°¦à°¿!",
          paymentFailed: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°µà°¿à°«à°²à°®à±ˆà°‚à°¦à°¿. à°¦à°¯à°šà±‡à°¸à°¿ à°®à°³à±à°²à±€ à°ªà±à°°à°¯à°¤à±à°¨à°¿à°‚à°šà°‚à°¡à°¿.",
          processingPayment: "à°šà±†à°²à±à°²à°¿à°‚à°ªà±à°¨à± à°ªà±à°°à°¾à°¸à±†à°¸à± à°šà±‡à°¸à±à°¤à±‹à°‚à°¦à°¿...",
          paymentFailedMax: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°µà°¿à°«à°²à°®à±ˆà°‚à°¦à°¿. à°—à°°à°¿à°·à±à°Ÿ à°ªà±à°°à°¯à°¤à±à°¨à°¾à°²à± à°šà±‡à°°à±à°•à±à°¨à±à°¨à°¾à°¯à°¿.",
          pleaseTryOffline: "à°¦à°¯à°šà±‡à°¸à°¿ à°†à°«à±â€Œà°²à±ˆà°¨à± à°šà±†à°²à±à°²à°¿à°‚à°ªà±à°¨à± à°ªà±à°°à°¯à°¤à±à°¨à°¿à°‚à°šà°‚à°¡à°¿ à°²à±‡à°¦à°¾ à°®à°¦à±à°¦à°¤à±à°•à± à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿.",
          retryPayment: "à°®à°³à±à°²à±€ à°ªà±à°°à°¯à°¤à±à°¨à°¿à°‚à°šà°‚à°¡à°¿",
          // Dashboard translations
          adminDashboard: "ğŸ“ˆ à°…à°¡à±à°®à°¿à°¨à± à°¡à°¾à°·à±â€Œà°¬à±‹à°°à±à°¡à±",
          totalRevenue: "à°®à±Šà°¤à±à°¤à°‚ à°†à°¦à°¾à°¯à°‚",
          fromLastPeriod: "+0% à°—à°¤ à°•à°¾à°²à°‚ à°¨à±à°‚à°¡à°¿",
          totalOrders: "à°®à±Šà°¤à±à°¤à°‚ à°†à°°à±à°¡à°°à±â€Œà°²à±",
          ordersCount: "+0 à°†à°°à±à°¡à°°à±â€Œà°²à±",
          totalCustomers: "à°®à±Šà°¤à±à°¤à°‚ à°•à°¸à±à°Ÿà°®à°°à±â€Œà°²à±",
          uniqueCustomers: "+0 à°ªà±à°°à°¤à±à°¯à±‡à°• à°•à°¸à±à°Ÿà°®à°°à±â€Œà°²à±",
          avgOrderValue: "à°¸à°—à°Ÿà± à°†à°°à±à°¡à°°à± à°µà°¿à°²à±à°µ",
          basedOnAllOrders: "à°…à°¨à±à°¨à°¿ à°†à°°à±à°¡à°°à±â€Œà°² à°†à°§à°¾à°°à°‚à°—à°¾",
          revenueOverTime: "à°•à°¾à°²à°•à±à°°à°®à±‡à°£à°¾ à°†à°¦à°¾à°¯à°‚",
          ordersByType: "à°°à°•à°‚ à°ªà±à°°à°•à°¾à°°à°‚ à°†à°°à±à°¡à°°à±â€Œà°²à±",
          paymentMethods: "à°šà±†à°²à±à°²à°¿à°‚à°ªà± à°ªà°¦à±à°§à°¤à±à°²à±",
          topSellingItems: "à°…à°¤à±à°¯à°§à°¿à°• à°µà°¿à°•à±à°°à°¯à°¾à°² à°…à°‚à°¶à°¾à°²à±",
          recentOrdersSummary: "à°‡à°Ÿà±€à°µà°²à°¿ à°†à°°à±à°¡à°°à±â€Œà°² à°¸à°¾à°°à°¾à°‚à°¶à°‚",
          refreshDashboard: "ğŸ”„ à°¡à°¾à°·à±â€Œà°¬à±‹à°°à±à°¡à±â€Œà°¨à± à°°à°¿à°«à±à°°à±†à°·à± à°šà±‡à°¯à°‚à°¡à°¿",
          close: "à°®à±‚à°¸à°¿à°µà±‡à°¯à°‚à°¡à°¿",
          // Menu items - Starters
          "Garlic Herb Bread": "à°µà±†à°²à±à°²à±à°²à°¿ à°®à±‚à°²à°¿à°• à°°à±Šà°Ÿà±à°Ÿà±†",
          "Garlic Herb Bread_desc": "à°µà±‡à°¯à°¿à°‚à°šà°¿à°¨ à°µà±†à°²à±à°²à±à°²à°¿ à°µà±†à°¨à±à°¨ à°®à°°à°¿à°¯à± à°ªà°¾à°°à±à°¸à±à°²à±€à°¤à±‹ à°µà±‡à°¯à°¿à°‚à°šà°¿à°¨ à°¬à°¾à°—à±à°¯à±à°Ÿà±.",
          "Tomato Basil Bruschetta": "à°Ÿà°®à°¾à°Ÿà±‹ à°¬à°¾à°¸à°¿à°²à± à°¬à±à°°à±à°¸à±à°šà±†à°Ÿà±à°Ÿà°¾",
          "Tomato Basil Bruschetta_desc": "à°•à±à°°à°¿à°¸à±à°ªà±€ à°¸à°¿à°¯à°¾à°¬à°¾à°Ÿà±à°Ÿà°¾à°ªà±ˆ à°ªà°‚à°¡à°¿à°¨ à°Ÿà°®à°¾à°Ÿà±‹à°²à±, à°¬à°¾à°¸à°¿à°²à± à°®à°°à°¿à°¯à± à°†à°²à°¿à°µà± à°†à°¯à°¿à°²à±.",
          "Roasted Pumpkin Soup": "à°µà±‡à°¯à°¿à°‚à°šà°¿à°¨ à°—à±à°®à±à°®à°¡à°¿à°•à°¾à°¯ à°¸à±‚à°ªà±",
          "Roasted Pumpkin Soup_desc": "à°¨à°Ÿà±à°®à±†à°—à± à°®à°°à°¿à°¯à± à°•à±à°°à±€à°®à± à°¯à±Šà°•à±à°• à°¸à±‚à°šà°¨à°¤à±‹ à°µà±†à°²à±à°µà±†à°Ÿà±€ à°—à±à°®à±à°®à°¡à°¿à°•à°¾à°¯.",
          // Menu items - Mains
          "Citrus Glazed Salmon": "à°¸à°¿à°Ÿà±à°°à°¸à± à°—à±à°²à±‡à°œà±à°¡à± à°¸à°¾à°²à±à°®à°¨à±",
          "Citrus Glazed Salmon_desc": "à°†à°°à±†à°‚à°œà± à°—à±à°²à±‡à°œà±â€Œà°¤à±‹ à°ªà°¾à°¨à±-à°¸à±€à°°à±à°¡à± à°¸à°¾à°²à±à°®à°¨à±, à°—à±à°°à±€à°¨à±à°¸à±â€Œà°¤à±‹ à°¸à°°à±à°µà± à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿.",
          "Grilled Chicken Alfredo": "à°—à±à°°à°¿à°²à± à°šà±‡à°¸à°¿à°¨ à°šà°¿à°•à±†à°¨à± à°†à°²à±à°«à±à°°à±†à°¡à±‹",
          "Grilled Chicken Alfredo_desc": "à°—à±à°°à°¿à°²à± à°šà±‡à°¸à°¿à°¨ à°šà°¿à°•à±†à°¨à±â€Œà°¤à±‹ à°•à±à°°à±€à°®à±€ à°¸à°¾à°¸à±â€Œà°²à±‹ à°Ÿà°¾à°¸à± à°šà±‡à°¸à°¿à°¨ à°«à±†à°Ÿà±à°Ÿà±à°¸à°¿à°¨à°¿.",
          "Margherita Pizza": "à°®à°¾à°°à±à°—à±†à°°à°¿à°Ÿà°¾ à°ªà°¿à°œà±à°œà°¾",
          "Margherita Pizza_desc": "à°¸à°¾à°¨à± à°®à°¾à°°à±à°œà°¾à°¨à±‹ à°Ÿà°®à°¾à°Ÿà±‹, à°¤à°¾à°œà°¾ à°®à±Šà°œà±à°œà°°à±†à°²à±à°²à°¾ à°®à°°à°¿à°¯à± à°¬à°¾à°¸à°¿à°²à±.",
          "Veggie Power Bowl": "à°µà±†à°œà±à°œà±€ à°ªà°µà°°à± à°¬à±Œà°²à±",
          "Veggie Power Bowl_desc": "à°•à±à°µà°¿à°¨à±‹à°µà°¾, à°µà±‡à°¯à°¿à°‚à°šà°¿à°¨ à°•à±‚à°°à°—à°¾à°¯à°²à±, à°šà°¿à°•à±à°ªà±€à°¸à±, à°…à°µà±‹à°•à°¾à°¡à±‹, à°²à±†à°®à°¨à± à°¤à°¹à°¿à°¨à°¿.",
          // Menu items - Desserts
          "Classic Tiramisu": "à°•à±à°²à°¾à°¸à°¿à°•à± à°Ÿà°¿à°°à°¾à°®à°¿à°¸à±",
          "Classic Tiramisu_desc": "à°®à°¸à±à°•à°°à±à°ªà±‹à°¨à± à°®à°°à°¿à°¯à± à°•à±‹à°•à±‹à°¤à±‹ à°à°¸à±à°ªà±à°°à±†à°¸à±‹-à°¨à°¾à°¨à°¬à°¡à°¿à°¨ à°²à±‡à°¡à±€à°«à°¿à°‚à°—à°°à±à°¸à±.",
          "Warm Apple Crumble": "à°µà±†à°šà±à°šà°¨à°¿ à°†à°ªà°¿à°²à± à°•à±à°°à°‚à°¬à±à°²à±",
          "Warm Apple Crumble_desc": "à°µà±†à°¨à°¿à°²à±à°²à°¾à°¤à±‹ à°¸à°°à±à°µà± à°šà±‡à°¸à°¿à°¨ à°¬à°Ÿà°°à± à°•à±à°°à°‚à°¬à±à°²à±â€Œà°¤à±‹ à°¸à±à°—à°‚à°§ à°¦à±à°°à°µà±à°¯à°¾à°² à°†à°ªà°¿à°²à±â€Œà°²à±.",
          "Lemon Cheesecake": "à°²à±†à°®à°¨à± à°šà±€à°œà±â€Œà°•à±‡à°•à±",
          "Lemon Cheesecake_desc": "à°ªà±à°°à°•à°¾à°¶à°µà°‚à°¤à°®à±ˆà°¨ à°²à±†à°®à°¨à± à°œà±†à°¸à±à°Ÿà± à°®à°°à°¿à°¯à± à°•à°°à±à°¡à±â€Œà°¤à±‹ à°¸à°¿à°²à±à°•à±€ à°šà±€à°œà±â€Œà°•à±‡à°•à±."
        },
        hi: {
          restaurant: "à¤°à¥‡à¤¸à¥à¤¤à¤°à¤¾à¤‚",
          premiumDining: "à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤® à¤¡à¤¾à¤‡à¤¨à¤¿à¤‚à¤— à¤…à¤¨à¥à¤­à¤µ",
          tagline: "ğŸŒŸ à¤¤à¤¾à¤œà¤¾ â€¢ à¤—à¤°à¥à¤® â€¢ à¤¸à¥à¤µà¤¾à¤¦à¤¿à¤·à¥à¤Ÿ ğŸŒŸ",
          taglineSubtitle: "à¤œà¥à¤¨à¥‚à¤¨ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¤à¥ˆà¤¯à¤¾à¤°, à¤ªà¥à¤¯à¤¾à¤° à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¤°à¥‹à¤¸à¤¾ à¤—à¤¯à¤¾à¥¤ à¤ªà¤¾à¤• à¤‰à¤¤à¥à¤•à¥ƒà¤·à¥à¤Ÿà¤¤à¤¾ à¤•à¤¾ à¤…à¤¨à¥à¤­à¤µ à¤•à¤°à¥‡à¤‚à¥¤",
          orderNow: "à¤…à¤­à¥€ à¤‘à¤°à¥à¤¡à¤° à¤•à¤°à¥‡à¤‚",
          welcomeTitle: "à¤¹à¤®à¤¾à¤°à¥‡ à¤°à¥‡à¤¸à¥à¤¤à¤°à¤¾à¤‚ à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ",
          welcomeText: "à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤°à¥‚à¤ª à¤¸à¥‡ à¤¸à¥‹à¤°à¥à¤¸ à¤•à¤¿à¤ à¤—à¤ à¤¬à¥‡à¤¹à¤¤à¤°à¥€à¤¨ à¤¸à¤¾à¤®à¤—à¥à¤°à¥€ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¹à¤®à¤¾à¤°à¥‡ à¤¸à¤¾à¤µà¤§à¤¾à¤¨à¥€à¤ªà¥‚à¤°à¥à¤µà¤• à¤•à¥à¤¯à¥‚à¤°à¥‡à¤Ÿà¥‡à¤¡ à¤®à¥‡à¤¨à¥‚ à¤•à¥€ à¤–à¥‹à¤œ à¤•à¤°à¥‡à¤‚à¥¤ à¤ªà¥à¤°à¤¤à¥à¤¯à¥‡à¤• à¤µà¥à¤¯à¤‚à¤œà¤¨ à¤¹à¤®à¤¾à¤°à¥‡ à¤µà¤¿à¤¶à¥‡à¤·à¤œà¥à¤ à¤¶à¥‡à¤« à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤µà¤¿à¤¸à¥à¤¤à¤¾à¤° à¤ªà¤° à¤§à¥à¤¯à¤¾à¤¨ à¤”à¤° à¤‰à¤¤à¥à¤•à¥ƒà¤·à¥à¤Ÿà¤¤à¤¾ à¤•à¥‡ à¤²à¤¿à¤ à¤œà¥à¤¨à¥‚à¤¨ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¤à¥ˆà¤¯à¤¾à¤° à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤šà¤¾à¤¹à¥‡ à¤†à¤ª à¤à¤• à¤¤à¥à¤µà¤°à¤¿à¤¤ à¤¨à¤¾à¤¶à¥à¤¤à¤¾ à¤¢à¥‚à¤‚à¤¢ à¤°à¤¹à¥‡ à¤¹à¥‹à¤‚ à¤¯à¤¾ à¤ªà¥‚à¤°à¥à¤£ à¤¡à¤¾à¤‡à¤¨à¤¿à¤‚à¤— à¤…à¤¨à¥à¤­à¤µ, à¤¹à¤®à¤¾à¤°à¥‡ à¤ªà¤¾à¤¸ à¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤•à¥à¤› à¤–à¤¾à¤¸ à¤¹à¥ˆà¥¤",
          allMenu: "à¤¸à¤­à¥€ à¤®à¥‡à¤¨à¥‚",
          starters: "à¤¸à¥à¤Ÿà¤¾à¤°à¥à¤Ÿà¤°",
          mainCourses: "à¤®à¥à¤–à¥à¤¯ à¤µà¥à¤¯à¤‚à¤œà¤¨",
          desserts: "à¤¡à¥‡à¤œà¤¼à¤°à¥à¤Ÿ",
          startersSection: "ğŸ¥— à¤¸à¥à¤Ÿà¤¾à¤°à¥à¤Ÿà¤°",
          mainCoursesSection: "ğŸ à¤®à¥à¤–à¥à¤¯ à¤µà¥à¤¯à¤‚à¤œà¤¨",
          dessertsSection: "ğŸ° à¤¡à¥‡à¤œà¤¼à¤°à¥à¤Ÿ",
          addToOrder: "à¤‘à¤°à¥à¤¡à¤° à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
          yourOrder: "à¤†à¤ªà¤•à¤¾ à¤‘à¤°à¥à¤¡à¤°",
          items: "à¤†à¤‡à¤Ÿà¤®:",
          total: "à¤•à¥à¤²:",
          customerName: "à¤—à¥à¤°à¤¾à¤¹à¤• à¤•à¤¾ à¤¨à¤¾à¤®",
          enterCustomerName: "à¤—à¥à¤°à¤¾à¤¹à¤• à¤•à¤¾ à¤¨à¤¾à¤® à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          howWouldYouLikeOrder: "à¤†à¤ª à¤…à¤ªà¤¨à¤¾ à¤‘à¤°à¥à¤¡à¤° à¤•à¥ˆà¤¸à¥‡ à¤šà¤¾à¤¹à¥‡à¤‚à¤—à¥‡?",
          dineIn: "à¤¡à¤¾à¤‡à¤¨-à¤‡à¤¨",
          takeout: "à¤Ÿà¥‡à¤•à¤†à¤‰à¤Ÿ",
          delivery: "à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€",
          finalizeOrder: "à¤‘à¤°à¥à¤¡à¤° à¤…à¤‚à¤¤à¤¿à¤® à¤°à¥‚à¤ª à¤¦à¥‡à¤‚",
          cancel: "à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",
          ratingLabel: "à¤°à¥‡à¤Ÿà¤¿à¤‚à¤—",
          paymentMethod: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤µà¤¿à¤§à¤¿",
          onlinePayment: "à¤‘à¤¨à¤²à¤¾à¤‡à¤¨ à¤­à¥à¤—à¤¤à¤¾à¤¨",
          offlinePayment: "à¤‘à¤«à¤²à¤¾à¤‡à¤¨ à¤­à¥à¤—à¤¤à¤¾à¤¨",
          paymentTitle: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤ªà¥‚à¤°à¤¾ à¤•à¤°à¥‡à¤‚",
          amountToPay: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¤¨à¥‡ à¤•à¥€ à¤°à¤¾à¤¶à¤¿",
          scanToPay: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ QR à¤•à¥‹à¤¡ à¤¸à¥à¤•à¥ˆà¤¨ à¤•à¤°à¥‡à¤‚",
          paymentNote: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¤¾ à¤‘à¤°à¥à¤¡à¤° à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤ªà¥‚à¤°à¤¾ à¤•à¤°à¥‡à¤‚",
          waitingPayment: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¥€ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚...",
          confirmPayment: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¥€ à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚",
          cancelPayment: "à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",
          paymentSuccess: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤¸à¤«à¤²!",
          paymentFailed: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤µà¤¿à¤«à¤²à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤",
          processingPayment: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤ªà¥à¤°à¤¸à¤‚à¤¸à¥à¤•à¤°à¤£...",
          paymentFailedMax: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤µà¤¿à¤«à¤²à¥¤ à¤…à¤§à¤¿à¤•à¤¤à¤® à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤ªà¥‚à¤°à¥‡ à¤¹à¥‹ à¤—à¤à¥¤",
          pleaseTryOffline: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤‘à¤«à¤²à¤¾à¤‡à¤¨ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¤¨à¥‡ à¤•à¤¾ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚ à¤¯à¤¾ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤",
          retryPayment: "à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚",
          // Dashboard translations
          adminDashboard: "ğŸ“ˆ à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾à¤ªà¤• à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡",
          totalRevenue: "à¤•à¥à¤² à¤°à¤¾à¤œà¤¸à¥à¤µ",
          fromLastPeriod: "+0% à¤ªà¤¿à¤›à¤²à¥€ à¤…à¤µà¤§à¤¿ à¤¸à¥‡",
          totalOrders: "à¤•à¥à¤² à¤‘à¤°à¥à¤¡à¤°",
          ordersCount: "+0 à¤‘à¤°à¥à¤¡à¤°",
          totalCustomers: "à¤•à¥à¤² à¤—à¥à¤°à¤¾à¤¹à¤•",
          uniqueCustomers: "+0 à¤…à¤¦à¥à¤µà¤¿à¤¤à¥€à¤¯ à¤—à¥à¤°à¤¾à¤¹à¤•",
          avgOrderValue: "à¤”à¤¸à¤¤ à¤‘à¤°à¥à¤¡à¤° à¤®à¥‚à¤²à¥à¤¯",
          basedOnAllOrders: "à¤¸à¤­à¥€ à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤†à¤§à¤¾à¤° à¤ªà¤°",
          revenueOverTime: "à¤¸à¤®à¤¯ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤°à¤¾à¤œà¤¸à¥à¤µ",
          ordersByType: "à¤ªà¥à¤°à¤•à¤¾à¤° à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤‘à¤°à¥à¤¡à¤°",
          paymentMethods: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤µà¤¿à¤§à¤¿à¤¯à¤¾à¤‚",
          topSellingItems: "à¤¶à¥€à¤°à¥à¤· à¤¬à¤¿à¤•à¤¨à¥‡ à¤µà¤¾à¤²à¥€ à¤µà¤¸à¥à¤¤à¥à¤à¤‚",
          recentOrdersSummary: "à¤¹à¤¾à¤² à¤•à¥‡ à¤‘à¤°à¥à¤¡à¤° à¤¸à¤¾à¤°à¤¾à¤‚à¤¶",
          refreshDashboard: "ğŸ”„ à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡ à¤°à¥€à¤«à¥à¤°à¥‡à¤¶ à¤•à¤°à¥‡à¤‚",
          close: "à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚",
          // Menu items - Starters
          "Garlic Herb Bread": "à¤²à¤¹à¤¸à¥à¤¨ à¤œà¤¡à¤¼à¥€ à¤¬à¥‚à¤Ÿà¥€ à¤°à¥‹à¤Ÿà¥€",
          "Garlic Herb Bread_desc": "à¤­à¥à¤¨à¥‡ à¤¹à¥à¤ à¤²à¤¹à¤¸à¥à¤¨ à¤®à¤•à¥à¤–à¤¨ à¤”à¤° à¤…à¤œà¤®à¥‹à¤¦ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤Ÿà¥‹à¤¸à¥à¤Ÿà¥‡à¤¡ à¤¬à¥ˆà¤—à¥à¤à¤Ÿà¥¤",
          "Tomato Basil Bruschetta": "à¤Ÿà¤®à¤¾à¤Ÿà¤° à¤¤à¥à¤²à¤¸à¥€ à¤¬à¥à¤°à¥à¤¶à¥‡à¤Ÿà¤¾",
          "Tomato Basil Bruschetta_desc": "à¤•à¥à¤°à¤•à¥à¤°à¥‡ à¤¸à¤¿à¤¯à¤¾à¤¬à¤Ÿà¥à¤Ÿà¤¾ à¤ªà¤° à¤ªà¤•à¥‡ à¤Ÿà¤®à¤¾à¤Ÿà¤°, à¤¤à¥à¤²à¤¸à¥€ à¤”à¤° à¤œà¥ˆà¤¤à¥‚à¤¨ à¤•à¤¾ à¤¤à¥‡à¤²à¥¤",
          "Roasted Pumpkin Soup": "à¤­à¥à¤¨à¥€ à¤¹à¥à¤ˆ à¤•à¤¦à¥à¤¦à¥‚ à¤¸à¥‚à¤ª",
          "Roasted Pumpkin Soup_desc": "à¤œà¤¾à¤¯à¤«à¤² à¤”à¤° à¤•à¥à¤°à¥€à¤® à¤•à¥€ à¤à¤²à¤• à¤•à¥‡ à¤¸à¤¾à¤¥ à¤®à¤–à¤®à¤²à¥€ à¤•à¤¦à¥à¤¦à¥‚à¥¤",
          // Menu items - Mains
          "Citrus Glazed Salmon": "à¤¸à¤¾à¤‡à¤Ÿà¥à¤°à¤¸ à¤—à¥à¤²à¥‡à¤œà¤¼à¥à¤¡ à¤¸à¥ˆà¤²à¥à¤®à¤¨",
          "Citrus Glazed Salmon_desc": "à¤¨à¤¾à¤°à¤‚à¤—à¥€ à¤—à¥à¤²à¥‡à¤œà¤¼ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¥ˆà¤¨-à¤¸à¥€à¤¯à¤° à¤¸à¥ˆà¤²à¥à¤®à¤¨, à¤¹à¤°à¥€ à¤¸à¤¬à¥à¤œà¤¿à¤¯à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¤°à¥‹à¤¸à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤",
          "Grilled Chicken Alfredo": "à¤—à¥à¤°à¤¿à¤²à¥à¤¡ à¤šà¤¿à¤•à¤¨ à¤…à¤²à¥à¤«à¥à¤°à¥‡à¤¡à¥‹",
          "Grilled Chicken Alfredo_desc": "à¤—à¥à¤°à¤¿à¤²à¥à¤¡ à¤šà¤¿à¤•à¤¨ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤•à¥à¤°à¥€à¤®à¥€ à¤¸à¥‰à¤¸ à¤®à¥‡à¤‚ à¤Ÿà¥‰à¤¸ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤«à¥‡à¤Ÿà¥à¤¸à¤¿à¤¨à¥€à¥¤",
          "Margherita Pizza": "à¤®à¤¾à¤°à¥à¤—à¥‡à¤°à¤¿à¤Ÿà¤¾ à¤ªà¤¿à¤œà¥à¤œà¤¾",
          "Margherita Pizza_desc": "à¤¸à¥ˆà¤¨ à¤®à¤¾à¤°à¥à¤œà¤¼à¤¾à¤¨à¥‹ à¤Ÿà¤®à¤¾à¤Ÿà¤°, à¤¤à¤¾à¤œà¤¾ à¤®à¥‹à¤œà¤¼à¥‡à¤°à¥‡à¤²à¤¾ à¤”à¤° à¤¤à¥à¤²à¤¸à¥€à¥¤",
          "Veggie Power Bowl": "à¤µà¥‡à¤œà¥€ à¤ªà¤¾à¤µà¤° à¤¬à¤¾à¤‰à¤²",
          "Veggie Power Bowl_desc": "à¤•à¥à¤µà¤¿à¤¨à¥‹à¤†, à¤­à¥à¤¨à¥€ à¤¹à¥à¤ˆ à¤¸à¤¬à¥à¤œà¤¿à¤¯à¤¾à¤‚, à¤›à¥‹à¤²à¥‡, à¤à¤µà¥‹à¤•à¤¾à¤¡à¥‹, à¤¨à¥€à¤‚à¤¬à¥‚ à¤¤à¤¾à¤¹à¤¿à¤¨à¥€à¥¤",
          // Menu items - Desserts
          "Classic Tiramisu": "à¤•à¥à¤²à¤¾à¤¸à¤¿à¤• à¤Ÿà¤¿à¤°à¤¾à¤®à¤¿à¤¸à¥",
          "Classic Tiramisu_desc": "à¤®à¤¸à¥à¤•à¤¾à¤°à¤ªà¥‹à¤¨ à¤”à¤° à¤•à¥‹à¤•à¥‹ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤à¤¸à¥à¤ªà¥à¤°à¥‡à¤¸à¥‹-à¤¸à¥‹à¤–à¤¾ à¤²à¥‡à¤¡à¥€à¤«à¤¿à¤‚à¤—à¤°à¥à¤¸à¥¤",
          "Warm Apple Crumble": "à¤—à¤°à¥à¤® à¤¸à¥‡à¤¬ à¤•à¥à¤°à¤‚à¤¬à¤²",
          "Warm Apple Crumble_desc": "à¤®à¤•à¥à¤–à¤¨ à¤•à¥à¤°à¤‚à¤¬à¤² à¤•à¥‡ à¤¸à¤¾à¤¥ à¤®à¤¸à¤¾à¤²à¥‡à¤¦à¤¾à¤° à¤¸à¥‡à¤¬, à¤µà¥‡à¤¨à¤¿à¤²à¤¾ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¤°à¥‹à¤¸à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤",
          "Lemon Cheesecake": "à¤¨à¥€à¤‚à¤¬à¥‚ à¤šà¥€à¤œà¤¼à¤•à¥‡à¤•",
          "Lemon Cheesecake_desc": "à¤‰à¤œà¥à¤œà¥à¤µà¤² à¤¨à¥€à¤‚à¤¬à¥‚ à¤œà¤¼à¥‡à¤¸à¥à¤Ÿ à¤”à¤° à¤¦à¤¹à¥€ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤°à¥‡à¤¶à¤®à¥€ à¤šà¥€à¤œà¤¼à¤•à¥‡à¤•à¥¤"
        }
      };

      // Language management
      let currentLanguage = localStorage.getItem('restaurant_language') || 'en';

      function setLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('restaurant_language', lang);
        
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
          }
        });

        // Update placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
          const key = element.getAttribute('data-i18n-placeholder');
          if (translations[lang] && translations[lang][key]) {
            element.placeholder = translations[lang][key];
          }
        });

        // Update language selector
        const langSelect = document.getElementById('language-select');
        if (langSelect) langSelect.value = lang;
        
        // Update dashboard language selector
        const dashboardLangSelect = document.getElementById('dashboard-language-select');
        if (dashboardLangSelect) dashboardLangSelect.value = lang;
        
        // Update all "Add to order" buttons in menu items (including dynamically created ones)
        // First, update all buttons with the data-i18n attribute
        document.querySelectorAll('.item-cta[data-i18n="addToOrder"]').forEach(btn => {
          btn.textContent = getTranslation('addToOrder');
        });
        
        // Also find and update any "Add to order" buttons by their text content
        // This catches buttons that might have been created before language was set
        const allItemButtons = document.querySelectorAll('.item-cta');
        const addToOrderTexts = {
          en: 'Add to order',
          te: 'à°†à°°à±à°¡à°°à±â€Œà°•à± à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿',
          hi: 'à¤‘à¤°à¥à¤¡à¤° à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚'
        };
        
        allItemButtons.forEach(btn => {
          const currentText = btn.textContent.trim();
          // Check if button text matches any language version of "Add to order"
          if (Object.values(addToOrderTexts).some(text => currentText === text)) {
            btn.setAttribute('data-i18n', 'addToOrder');
            btn.textContent = getTranslation('addToOrder');
          }
        });
        
        // Update menu item names and descriptions
        document.querySelectorAll('[data-i18n-item-name]').forEach(element => {
          const originalName = element.getAttribute('data-i18n-item-name');
          const translatedName = getTranslation(originalName);
          if (translatedName) {
            element.textContent = translatedName;
          }
        });
        
        document.querySelectorAll('[data-i18n-item-desc]').forEach(element => {
          const originalName = element.getAttribute('data-i18n-item-desc');
          const descKey = originalName + "_desc";
          const translatedDesc = getTranslation(descKey);
          if (translatedDesc) {
            element.textContent = translatedDesc;
          }
        });
      }

      function getTranslation(key) {
        return translations[currentLanguage]?.[key] || translations.en[key] || key;
      }

      // Theme management
      const THEME_KEY = 'restaurant_theme';
      let currentTheme = localStorage.getItem(THEME_KEY) || 'light';

      function setTheme(theme) {
        currentTheme = theme;
        localStorage.setItem(THEME_KEY, theme);
        document.body.classList.toggle('dark-theme', theme === 'dark');
        updateThemeToggleButton();
      }

      function toggleTheme() {
        const nextTheme = currentTheme === 'dark' ? 'light' : 'dark';
        setTheme(nextTheme);
      }

      function updateThemeToggleButton() {
        const btn = document.getElementById('theme-toggle');
        if (!btn) return;
        const icon = btn.querySelector('.theme-toggle-icon');
        const label = btn.querySelector('.theme-toggle-text');
        const isDark = currentTheme === 'dark';
        btn.setAttribute('aria-pressed', String(isDark));
        if (icon) icon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
        if (label) label.textContent = isDark ? 'Light' : 'Dark';
      }

      const ratingsMap = {
        "Garlic Herb Bread": 4.7,
        "Tomato Basil Bruschetta": 4.6,
        "Roasted Pumpkin Soup": 4.4,
        "Citrus Glazed Salmon": 4.8,
        "Grilled Chicken Alfredo": 4.5,
        "Margherita Pizza": 4.9,
        "Veggie Power Bowl": 4.3,
        "Classic Tiramisu": 4.8,
        "Warm Apple Crumble": 4.4,
        "Lemon Cheesecake": 4.6
      };

      function getRatingValue(name) {
        return ratingsMap[name] ?? 4.5;
      }

      function renderRatingStars(value) {
        const rounded = Math.round(value * 2) / 2;
        const fullStars = Math.floor(rounded);
        const hasHalf = rounded - fullStars === 0.5;
        let stars = "";
        for (let i = 1; i <= 5; i++) {
          if (i <= fullStars) {
            stars += "â˜…";
          } else if (hasHalf && i === fullStars + 1) {
            stars += "â˜†";
          } else {
            stars += "â˜†";
          }
        }
        return { stars, value: rounded.toFixed(1) };
      }

      function text(node) {
        return node?.textContent?.trim() ?? "";
      }

      function createMenuItemElement(name, price, description, imageUrl, priceValue) {
        const li = document.createElement("li");
        li.className = "menu-item";
        li.tabIndex = 0;
        // Store original name for translation lookup
        li.setAttribute("data-original-name", name);

        if (imageUrl) {
          const media = document.createElement("div");
          media.className = "item-media";
          const img = document.createElement("img");
          const cacheBust = (imageUrl.includes("?") ? "&" : "?") + "v=" + Date.now();
          img.src = imageUrl + cacheBust;
          img.alt = name;
          img.loading = "lazy";
          media.appendChild(img);
          li.appendChild(media);
        }

        const title = document.createElement("div");
        title.className = "item-name";
        title.setAttribute("data-i18n-item-name", name);
        title.textContent = getTranslation(name) || name;

        const trailing = document.createElement("div");
        trailing.className = "item-price";
        trailing.textContent = price;

        const desc = document.createElement("p");
        desc.className = "item-desc";
        desc.setAttribute("data-i18n-item-desc", name);
        const descKey = name + "_desc";
        desc.textContent = getTranslation(descKey) || description;

        const ratingValue = getRatingValue(name);
        const ratingData = renderRatingStars(ratingValue);
        const rating = document.createElement("div");
        rating.className = "item-rating";
        rating.setAttribute("data-rating-name", name);
        rating.setAttribute("aria-label", `${getTranslation('ratingLabel') || 'Rating'} ${ratingValue.toFixed(1)} out of 5`);
        rating.innerHTML = `<span class="stars" aria-hidden="true">${ratingData.stars}</span><span class="rating-number">${ratingData.value}</span>`;

        // CTA
        const cta = document.createElement("button");
        cta.className = "item-cta ripple-container";
        cta.type = "button";
        cta.setAttribute("data-i18n", "addToOrder");
        cta.textContent = getTranslation("addToOrder");
        cta.addEventListener("click", (e) => {
          incrementCart(name, priceValue);
          spawnRipple(e, cta);
        });

        // Content row
        li.appendChild(title);
        li.appendChild(trailing);
        li.appendChild(rating);
        if (description) li.appendChild(desc);
        li.appendChild(cta);
        return li;
      }

      function renderCategory(xmlDoc, tagName, targetId) {
        const container = document.getElementById(targetId);
        const nodes = xmlDoc.getElementsByTagName(tagName)[0]?.getElementsByTagName("item") ?? [];
        container.innerHTML = "";
        for (let i = 0; i < nodes.length; i++) {
          const item = nodes[i];
          const name = text(item.getElementsByTagName("name")[0]);
          const priceRaw = text(item.getElementsByTagName("price")[0]);
          const desc = text(item.getElementsByTagName("description")[0]);
          const imageUrl = text(item.getElementsByTagName("image")[0]);
          const numeric = !isNaN(Number(priceRaw)) ? Number(priceRaw) : 0;
          const price = priceRaw && !isNaN(Number(priceRaw)) ? currency.format(numeric) : priceRaw;
          const card = createMenuItemElement(name, price, desc, imageUrl, numeric);
          card.style.setProperty("--delay", `${i * 70}ms`);
          container.appendChild(card);
        }
      }

      async function loadMenu() {
        const status = document.getElementById("status");
        try {
          status.textContent = "Loading menuâ€¦";
          const response = await fetch(`menu.xml?v=${Date.now()}`, { cache: "no-store" });
          if (!response.ok) throw new Error("Failed to load menu.xml");
          const xmlText = await response.text();
          const parser = new DOMParser();
          const xmlDoc = parser.parseFromString(xmlText, "application/xml");
          const parseError = xmlDoc.getElementsByTagName("parsererror")[0];
          if (parseError) throw new Error("Invalid XML format");

          renderCategory(xmlDoc, "starters", "starters");
          renderCategory(xmlDoc, "mains", "mains");
          renderCategory(xmlDoc, "desserts", "desserts");
          setupReveal();
          // Ensure all menu item buttons use the current language
          document.querySelectorAll('.item-cta[data-i18n="addToOrder"]').forEach(btn => {
            btn.textContent = getTranslation('addToOrder');
          });
          status.textContent = "";
        } catch (err) {
          status.textContent = "Could not load the menu. Please try opening via a local server.";
          console.error(err);
        }
      }

      function setFilter(category) {
        const sections = [
          { id: "starters-section", key: "starters" },
          { id: "mains-section", key: "mains" },
          { id: "desserts-section", key: "desserts" },
        ];

        // Toggle sections visibility
        sections.forEach(({ id, key }) => {
          const el = document.getElementById(id);
          if (!el) return;
          if (category === "all" || category === key) {
            el.classList.remove("hidden");
          } else {
            el.classList.add("hidden");
          }
        });

        // Update active state on filter buttons
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.classList.toggle("is-active", btn.dataset.filter === category || (category === "all" && btn.dataset.filter === "all"));
        });
      }

      function wireFilters() {
        // Top filter bar
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.classList.add("ripple-container");
          btn.addEventListener("click", (e) => {
            setFilter(btn.dataset.filter);
            spawnRipple(e, btn);
          });
        });
        // Clickable section pills
        document.querySelectorAll("[data-filter].pill").forEach((pill) => {
          pill.classList.add("ripple-container");
          pill.addEventListener("click", (e) => {
            setFilter(pill.dataset.filter);
            spawnRipple(e, pill);
          });
        });

        // Order Now button handled in DOMContentLoaded
      }

      function setupReveal() {
        const items = document.querySelectorAll(".menu-item");
        if (!("IntersectionObserver" in window)) {
          items.forEach((el) => el.classList.add("is-revealed"));
          return;
        }
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-revealed");
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.12, rootMargin: "0px 0px -8% 0px" });
        items.forEach((el) => observer.observe(el));
      }

      function spawnRipple(event, el) {
        const rect = el.getBoundingClientRect();
        const ripple = document.createElement("span");
        ripple.className = "ripple";
        const size = Math.max(rect.width, rect.height) * 1.4;
        ripple.style.width = ripple.style.height = size + "px";
        ripple.style.left = (event.clientX - rect.left) + "px";
        ripple.style.top = (event.clientY - rect.top) + "px";
        el.appendChild(ripple);
        ripple.addEventListener("animationend", () => ripple.remove());
      }

      // Cart management
      let cart = []; // Array of { name, price, quantity, priceValue }

      function isOrderModalVisible() {
        const modal = document.getElementById("order-modal");
        return modal && !modal.classList.contains("hidden");
      }

      function renderCartContents() {
        const cartContents = document.getElementById("cart-contents");
        const itemCountEl = document.getElementById("modal-item-count");
        const totalEl = document.getElementById("modal-total");
        if (!cartContents || !itemCountEl || !totalEl) return;

        if (cart.length === 0) {
          cartContents.innerHTML = '<p style="text-align: center; color: var(--ink-dim); padding: 20px;">Your cart is empty. Add some items to your order!</p>';
          itemCountEl.textContent = "0";
          totalEl.textContent = currency.format(0);
          return;
        }

        const cartList = document.createElement("ul");
        cartList.className = "cart-list";

        cart.forEach(item => {
          const li = document.createElement("li");
          li.className = "cart-item";

          const itemTotal = item.priceValue * item.quantity;
          const topRow = document.createElement("div");
          topRow.className = "cart-item-top";

          const info = document.createElement("div");
          info.className = "cart-item-info";

          const nameEl = document.createElement("span");
          nameEl.className = "cart-item-name";
          nameEl.textContent = item.name;
          info.appendChild(nameEl);

          const priceEl = document.createElement("div");
          priceEl.className = "cart-item-price";
          priceEl.textContent = currency.format(itemTotal);

          topRow.appendChild(info);
          topRow.appendChild(priceEl);
          li.appendChild(topRow);

          const controls = document.createElement("div");
          controls.className = "cart-item-controls";

          const decreaseBtn = document.createElement("button");
          decreaseBtn.type = "button";
          decreaseBtn.className = "cart-control-btn cart-decrease-btn";
          decreaseBtn.setAttribute("aria-label", `Decrease quantity of ${item.name}`);
          decreaseBtn.textContent = "âˆ’";
          decreaseBtn.addEventListener("click", () => adjustCartItem(item.name, -1));

          const quantityEl = document.createElement("span");
          quantityEl.className = "cart-item-quantity";
          quantityEl.textContent = `Qty: ${item.quantity}`;

          const increaseBtn = document.createElement("button");
          increaseBtn.type = "button";
          increaseBtn.className = "cart-control-btn cart-increase-btn";
          increaseBtn.setAttribute("aria-label", `Increase quantity of ${item.name}`);
          increaseBtn.textContent = "+";
          increaseBtn.addEventListener("click", () => adjustCartItem(item.name, 1));

          const removeBtn = document.createElement("button");
          removeBtn.type = "button";
          removeBtn.className = "cart-control-btn cart-remove-btn";
          removeBtn.textContent = "Remove";
          removeBtn.addEventListener("click", () => removeCartItem(item.name));

          controls.appendChild(decreaseBtn);
          controls.appendChild(quantityEl);
          controls.appendChild(increaseBtn);
          controls.appendChild(removeBtn);

          li.appendChild(controls);
          cartList.appendChild(li);
        });

        cartContents.innerHTML = "";
        cartContents.appendChild(cartList);

        const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
        const totalAmount = cart.reduce((sum, item) => sum + (item.priceValue * item.quantity), 0);
        itemCountEl.textContent = String(totalCount);
        totalEl.textContent = currency.format(totalAmount);
      }

      function incrementCart(itemName, priceValue) {
        const existing = cart.find(item => item.name === itemName);
        if (existing) {
          existing.quantity += 1;
        } else {
          cart.push({ name: itemName, price: currency.format(priceValue), quantity: 1, priceValue: priceValue });
        }
        updateCartDisplay();
        if (isOrderModalVisible()) {
          renderCartContents();
        }
        const status = document.getElementById("status");
        if (status) {
          status.textContent = `Added "${itemName}" to order.`;
          setTimeout(() => { if (status.textContent?.includes(itemName)) status.textContent = ""; }, 1500);
        }
      }

      function updateCartDisplay() {
        const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
        const cartTotal = cart.reduce((sum, item) => sum + (item.priceValue * item.quantity), 0);
        const badge = document.getElementById("cart-count");
        if (badge) badge.textContent = String(cartCount);
        const total = document.getElementById("cart-total");
        if (total) total.textContent = currency.format(cartTotal);
      }

      function adjustCartItem(itemName, delta) {
        const index = cart.findIndex(item => item.name === itemName);
        if (index === -1) return;
        const newQty = cart[index].quantity + delta;
        if (newQty <= 0) {
          removeCartItem(itemName);
          return;
        }
        cart[index].quantity = newQty;
        updateCartDisplay();
        if (isOrderModalVisible()) {
          renderCartContents();
        }
      }

      function removeCartItem(itemName) {
        const index = cart.findIndex(item => item.name === itemName);
        if (index === -1) return;
        cart.splice(index, 1);
        updateCartDisplay();
        const status = document.getElementById("status");
        if (status) {
          status.textContent = `Removed "${itemName}" from order.`;
          setTimeout(() => { if (status.textContent?.includes(itemName)) status.textContent = ""; }, 1500);
        }
        if (isOrderModalVisible()) {
          renderCartContents();
        }
      }

      function showOrderModal() {
        const modal = document.getElementById("order-modal");
        if (!modal) return;
        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
        renderCartContents();
      }

      function hideOrderModal() {
        const modal = document.getElementById("order-modal");
        if (modal) modal.classList.add("hidden");
        document.body.style.overflow = "";
      }

      function generateOrderId() {
        if (typeof crypto !== "undefined" && crypto.randomUUID) {
          return crypto.randomUUID();
        }
        const timestamp = Date.now().toString(36);
        const random = Math.random().toString(36).slice(2, 8);
        return `ORD-${timestamp}-${random}`.toUpperCase();
      }

      let currentOrderDetails = null;

      async function finalizeOrder() {
        if (cart.length === 0) {
          alert("Your cart is empty!");
          hideOrderModal();
          return;
        }
        const orderTypeInput = document.getElementById("order-type");
        const orderType = orderTypeInput.value;
        if (!orderType) {
          alert("Please select an order type!");
          return;
        }
        const paymentMethodInput = document.getElementById("payment-method");
        const paymentMethod = paymentMethodInput.value;
        if (!paymentMethod) {
          alert("Please select a payment method!");
          return;
        }
        const customerInput = document.getElementById("customer-name");
        const customerName = customerInput?.value.trim() || "Guest";
        const totalAmount = cart.reduce((sum, item) => sum + (item.priceValue * item.quantity), 0);
        const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
        
        currentOrderDetails = {
          id: generateOrderId(),
          customerName,
          type: orderType,
          paymentMethod: paymentMethod,
          items: cart.map(i => ({ name: i.name, qty: i.quantity, price: i.priceValue })),
          itemCount: totalCount,
          total: totalAmount,
          createdAt: new Date().toISOString()
        };

        // If online payment, show payment modal with QR code
        if (paymentMethod === "Online") {
          hideOrderModal();
          showPaymentModal(totalAmount);
        } else {
          // Offline payment - complete order directly
          await completeOrder(currentOrderDetails);
        }
      }

      function showPaymentModal(amount) {
        const modal = document.getElementById("payment-modal");
        if (!modal) return;
        
        // Reset payment attempts
        paymentAttempts = 0;
        
        const amountEl = document.getElementById("payment-amount");
        if (amountEl) amountEl.textContent = currency.format(amount);
        
        // Reset confirm button
        const confirmBtn = document.getElementById("confirm-payment");
        if (confirmBtn) {
          confirmBtn.disabled = false;
          confirmBtn.style.display = '';
          confirmBtn.textContent = getTranslation('confirmPayment') || 'Confirm Payment';
        }
        
        // Generate QR code
        generateQRCode(amount);
        
        // Reset payment status
        const statusEl = document.getElementById("payment-status");
        if (statusEl) {
          statusEl.innerHTML = `
            <div class="payment-status-icon">â³</div>
            <p class="payment-status-text" data-i18n="waitingPayment">Waiting for payment...</p>
          `;
        }
        
        // Apply translations to payment modal
        document.querySelectorAll('#payment-modal [data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
          }
        });
        
        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      function hidePaymentModal() {
        const modal = document.getElementById("payment-modal");
        if (modal) modal.classList.add("hidden");
        document.body.style.overflow = "";
      }

      function generateQRCode(amount) {
        const qrcodeContainer = document.getElementById("qrcode");
        if (!qrcodeContainer) return;
        
        // Show loading indicator
        qrcodeContainer.innerHTML = `
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px;">
            <div style="font-size: 2rem; margin-bottom: 10px;">â³</div>
            <p style="color: var(--ink-dim); font-size: 0.9rem;">Generating QR Code...</p>
          </div>
        `;
        
        // Generate payment data (you can customize this with your payment gateway details)
        const paymentData = {
          amount: amount,
          orderId: currentOrderDetails?.id || generateOrderId(),
          merchant: "Restaurant",
          timestamp: new Date().toISOString()
        };
        
        // Create QR code data string (format: UPI payment link or payment gateway URL)
        // For demo purposes, using a simple format. In production, use actual payment gateway QR format
        const qrData = `upi://pay?pa=restaurant@paytm&pn=Restaurant&am=${amount.toFixed(2)}&cu=USD&tn=Order ${paymentData.orderId}`;
        
        // Generate QR code using qrcode.js library
        if (typeof QRCode !== 'undefined') {
          // Try using toDataURL first (more reliable)
          QRCode.toDataURL(qrData, {
            width: 256,
            height: 256,
            margin: 2,
            color: {
              dark: '#000000',
              light: '#FFFFFF'
            },
            errorCorrectionLevel: 'M'
          }, function (error, url) {
            if (error) {
              console.error('QR Code generation error:', error);
              // Fallback to canvas method
              try {
                const canvas = document.createElement('canvas');
                qrcodeContainer.appendChild(canvas);
                QRCode.toCanvas(canvas, qrData, {
                  width: 256,
                  height: 256,
                  margin: 2,
                  color: {
                    dark: '#000000',
                    light: '#FFFFFF'
                  },
                  errorCorrectionLevel: 'M'
                }, function (canvasError) {
                  if (canvasError) {
                    console.error('Canvas QR Code generation error:', canvasError);
                    qrcodeContainer.innerHTML = '<p style="color: var(--ink-dim); padding: 20px; text-align: center;">QR Code generation failed. Please refresh and try again.</p>';
                  }
                });
              } catch (e) {
                qrcodeContainer.innerHTML = '<p style="color: var(--ink-dim); padding: 20px; text-align: center;">QR Code generation failed. Please refresh and try again.</p>';
              }
            } else {
              // Create img element with the data URL
              const img = document.createElement('img');
              img.src = url;
              img.alt = 'Payment QR Code';
              img.style.width = '256px';
              img.style.height = '256px';
              img.style.display = 'block';
              img.style.margin = '0 auto';
              qrcodeContainer.appendChild(img);
              console.log('QR Code generated successfully');
            }
          });
        } else {
          // Fallback if QRCode library didn't load - wait a bit and try again
          qrcodeContainer.innerHTML = `
            <div style="padding: 20px; text-align: center; border: 2px dashed var(--ink-dim); border-radius: 8px;">
              <p style="color: var(--ink-dim); margin-bottom: 10px;">Loading QR Code Library...</p>
              <p style="font-size: 0.9em; color: var(--ink-dim);">Amount: ${currency.format(amount)}</p>
              <p style="font-size: 0.9em; color: var(--ink-dim);">Order ID: ${paymentData.orderId}</p>
            </div>
          `;
          
          // Retry after a short delay
          setTimeout(() => {
            if (typeof QRCode !== 'undefined') {
              generateQRCode(amount);
            }
          }, 500);
        }
      }

      let paymentAttempts = 0;
      const MAX_PAYMENT_ATTEMPTS = 3;

      async function confirmPayment() {
        if (!currentOrderDetails) return;
        
        const statusEl = document.getElementById("payment-status");
        const confirmBtn = document.getElementById("confirm-payment");
        const cancelBtn = document.getElementById("cancel-payment");
        
        // Disable buttons during processing
        if (confirmBtn) confirmBtn.disabled = true;
        if (cancelBtn) cancelBtn.disabled = true;
        
        // Show processing status
        if (statusEl) {
          statusEl.innerHTML = `
            <div class="payment-status-icon" style="color: var(--orange);">â³</div>
            <p class="payment-status-text" style="color: var(--ink);" data-i18n="processingPayment">Processing payment...</p>
          `;
        }
        
        // Simulate payment processing (in production, this would be an actual API call)
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        // Simulate payment verification (70% success rate for demo)
        // In production, replace this with actual payment gateway verification
        paymentAttempts++;
        const paymentSuccess = Math.random() > 0.3; // 70% success rate
        
        if (paymentSuccess) {
          // Payment successful
          if (statusEl) {
            statusEl.innerHTML = `
              <div class="payment-status-icon" style="color: #4CAF50; font-size: 2.5rem;">âœ“</div>
              <p class="payment-status-text" style="color: #4CAF50; font-weight: 600;" data-i18n="paymentSuccess">Payment successful!</p>
            `;
          }
          
          // Apply translation
          const successText = statusEl?.querySelector('[data-i18n="paymentSuccess"]');
          if (successText && translations[currentLanguage]?.paymentSuccess) {
            successText.textContent = translations[currentLanguage].paymentSuccess;
          }
          
          // Wait a moment to show success message
          await new Promise(resolve => setTimeout(resolve, 2000));
          
          // Complete the order
          await completeOrder(currentOrderDetails);
          hidePaymentModal();
          paymentAttempts = 0; // Reset attempts
        } else {
          // Payment failed
          if (paymentAttempts >= MAX_PAYMENT_ATTEMPTS) {
            // Max attempts reached
            if (statusEl) {
              statusEl.innerHTML = `
                <div class="payment-status-icon" style="color: #f44336; font-size: 2.5rem;">âœ—</div>
                <p class="payment-status-text" style="color: #f44336; font-weight: 600;" data-i18n="paymentFailedMax">Payment failed. Maximum attempts reached.</p>
                <p style="font-size: 0.85rem; color: var(--ink-dim); margin-top: 8px;" data-i18n="pleaseTryOffline">Please try offline payment or contact support.</p>
              `;
            }
            
            // Apply translations
            const failedText = statusEl?.querySelector('[data-i18n="paymentFailedMax"]');
            const offlineText = statusEl?.querySelector('[data-i18n="pleaseTryOffline"]');
            if (failedText && translations[currentLanguage]?.paymentFailedMax) {
              failedText.textContent = translations[currentLanguage].paymentFailedMax;
            }
            if (offlineText && translations[currentLanguage]?.pleaseTryOffline) {
              offlineText.textContent = translations[currentLanguage].pleaseTryOffline;
            }
            
            // Re-enable cancel button only
            if (cancelBtn) cancelBtn.disabled = false;
            if (confirmBtn) confirmBtn.style.display = 'none';
          } else {
            // Show failure message with retry option
            if (statusEl) {
              statusEl.innerHTML = `
                <div class="payment-status-icon" style="color: #f44336; font-size: 2.5rem;">âœ—</div>
                <p class="payment-status-text" style="color: #f44336; font-weight: 600;" data-i18n="paymentFailed">Payment failed. Please try again.</p>
                <p style="font-size: 0.85rem; color: var(--ink-dim); margin-top: 8px;">Attempt ${paymentAttempts} of ${MAX_PAYMENT_ATTEMPTS}</p>
              `;
            }
            
            // Apply translation
            const failedText = statusEl?.querySelector('[data-i18n="paymentFailed"]');
            if (failedText && translations[currentLanguage]?.paymentFailed) {
              failedText.textContent = translations[currentLanguage].paymentFailed;
            }
            
            // Re-enable buttons for retry
            if (confirmBtn) {
              confirmBtn.disabled = false;
              confirmBtn.textContent = getTranslation('retryPayment') || 'Retry Payment';
            }
            if (cancelBtn) cancelBtn.disabled = false;
          }
        }
      }

      async function completeOrder(orderDetails) {
        await saveOrderToLocal(orderDetails);
        await appendOrderToCsv(orderDetails);
        
        const paymentMethodText = orderDetails.paymentMethod === "Online" ? "Online Payment" : "Offline Payment";
        alert(`Order finalized!\n\nğŸ“‹ Order Type: ${orderDetails.type}\nğŸ’³ Payment: ${paymentMethodText}\nğŸ“¦ Items: ${orderDetails.itemCount}\nğŸ’° Total: ${currency.format(orderDetails.total)}\n\nThank you for your order!`);
        
        // Refresh dashboard if it's open
        const dashboardModal = document.getElementById('admin-dashboard-modal');
        if (dashboardModal && !dashboardModal.classList.contains('hidden')) {
          updateDashboardStats();
          renderDashboardCharts();
          renderDashboardOrdersSummary();
        }
        
        // Reset cart and form
        cart = [];
        updateCartDisplay();
        const orderTypeInput = document.getElementById("order-type");
        const paymentMethodInput = document.getElementById("payment-method");
        const customerInput = document.getElementById("customer-name");
        if (orderTypeInput) orderTypeInput.value = "";
        if (paymentMethodInput) paymentMethodInput.value = "";
        if (customerInput) customerInput.value = "";
        document.querySelectorAll(".order-type-btn").forEach(btn => btn.classList.remove("active"));
        document.querySelectorAll(".payment-method-btn").forEach(btn => btn.classList.remove("active"));
        
        currentOrderDetails = null;
        
        const status = document.getElementById("status");
        if (status) {
          status.textContent = "Order finalized successfully!";
          setTimeout(() => { status.textContent = ""; }, 3000);
        }
      }

      // Cloud storage configuration
      const CLOUD_STORAGE_URL = 'https://api.jsonbin.io/v3/b';
      const API_KEY = '$2a$10$7x8x9x0x1x2x3x4x5x6x7x8'; // Free public API key (replace with your own if needed)
      
      // Fixed shared bin ID - all devices use the same ID for automatic sync
      // This ensures all devices automatically share the same data
      const SHARED_BIN_ID = 'restaurant-orders-shared';
      
      // Get the shared bin ID (same for all devices)
      function getBinId() {
        return SHARED_BIN_ID;
      }

      // Sync orders to cloud
      async function syncOrdersToCloud(orders, csvData) {
        try {
          const binId = getBinId();
          const data = {
            orders: orders,
            csvData: csvData || '',
            lastUpdated: new Date().toISOString()
          };
          
          const response = await fetch(`${CLOUD_STORAGE_URL}/${binId}`, {
            method: 'PUT',
            headers: {
              'Content-Type': 'application/json',
              'X-Master-Key': API_KEY
            },
            body: JSON.stringify(data)
          });
          
          if (!response.ok) {
            throw new Error('Failed to sync to cloud');
          }
          return true;
        } catch (error) {
          console.error('Cloud sync error:', error);
          return false;
        }
      }

      // Load orders from cloud
      async function loadOrdersFromCloud() {
        try {
          const binId = getBinId();
          const response = await fetch(`${CLOUD_STORAGE_URL}/${binId}/latest`, {
            headers: {
              'X-Master-Key': API_KEY
            }
          });
          
          if (!response.ok) {
            // Bin doesn't exist yet, return empty
            return { orders: [], csvData: '' };
          }
          
          const result = await response.json();
          const data = result.record || {};
          return {
            orders: data.orders || [],
            csvData: data.csvData || ''
          };
        } catch (error) {
          console.error('Cloud load error:', error);
          return { orders: [], csvData: '' };
        }
      }

      // LocalStorage helpers for demo orders
      function getSavedOrders() {
        try {
          const raw = localStorage.getItem('demo_orders');
          return raw ? JSON.parse(raw) : [];
        } catch (e) {
          console.error('Failed to parse saved orders', e);
          return [];
        }
      }

      async function saveOrderToLocal(order) {
        try {
          const all = getSavedOrders();
          all.unshift(order); // most recent first
          localStorage.setItem('demo_orders', JSON.stringify(all));
          
          // Sync to cloud
          const csvData = localStorage.getItem(GLOBAL_ORDER_CSV_KEY) || '';
          await syncOrdersToCloud(all, csvData);
          
          const status = document.getElementById('status');
          if (status) {
            status.textContent = 'Order saved and synced to cloud.';
            setTimeout(() => { status.textContent = ''; }, 2500);
          }
        } catch (e) {
          console.error('Unable to save order', e);
        }
      }

      function ordersToCsv(orders) {
        const escape = (value) => `"${String(value ?? "").replace(/"/g, '""')}"`;
        const header = ["Order ID", "Customer Name", "Order Type", "Payment Method", "Item Count", "Total", "Created At", "Items"];
        const rows = orders.map(order => {
          const itemsSummary = (order.items ?? []).map(it => `${it.name} x${it.qty} @ ${it.price != null ? it.price.toFixed(2) : ""}`).join(" | ");
          return [
            order.id ?? "",
            order.customerName ?? "",
            order.type ?? "",
            order.paymentMethod ?? "N/A",
            order.itemCount ?? 0,
            order.total != null ? order.total.toFixed(2) : "",
            order.createdAt ? new Date(order.createdAt).toLocaleString() : "",
            itemsSummary
          ];
        });
        const csvLines = [header.map(escape).join(",")];
        rows.forEach(row => csvLines.push(row.map(escape).join(",")));
        return csvLines.join("\r\n");
      }

      const GLOBAL_ORDER_CSV_KEY = 'demo_orders_csv';

      async function appendOrderToCsv(order) {
        const existing = localStorage.getItem(GLOBAL_ORDER_CSV_KEY);
        let csv = existing ?? "";
        const escape = (value) => `"${String(value ?? "").replace(/"/g, '""')}"`;
        const formatRow = (row) => row.map(escape).join(",");

        if (!existing) {
          const header = ["Order ID", "Customer Name", "Order Type", "Payment Method", "Item Count", "Total", "Created At", "Items"];
          csv += formatRow(header) + "\r\n";
        }

        const itemsSummary = (order.items ?? []).map(it => `${it.name} x${it.qty} @ ${currency.format(it.price)}`).join(" | ");
        const row = [
          order.id ?? "",
          order.customerName ?? "",
          order.type ?? "",
          order.paymentMethod ?? "N/A",
          order.itemCount ?? 0,
          order.total != null ? order.total.toFixed(2) : "",
          order.createdAt ? new Date(order.createdAt).toLocaleString() : "",
          itemsSummary
        ];
        csv += formatRow(row) + "\r\n";
        localStorage.setItem(GLOBAL_ORDER_CSV_KEY, csv);
        
        // Sync CSV to cloud
        const orders = getSavedOrders();
        await syncOrdersToCloud(orders, csv);
      }

      function downloadOrdersCsvFile() {
        const csv = localStorage.getItem(GLOBAL_ORDER_CSV_KEY);
        if (!csv) {
          alert("No orders have been finalized yet.");
          return;
        }
        const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = "restaurant-orders.csv";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
      }

      function getFilteredOrders() {
        const orders = getSavedOrders();
        const orderTypeFilter = document.getElementById('filter-order-type')?.value || '';
        const customerFilter = (document.getElementById('filter-customer')?.value || '').toLowerCase().trim();
        const dateFilter = document.getElementById('filter-date')?.value || '';

        return orders.filter(order => {
          if (orderTypeFilter && order.type !== orderTypeFilter) return false;
          if (customerFilter && (!order.customerName || !order.customerName.toLowerCase().includes(customerFilter))) return false;
          if (dateFilter) {
            const orderDate = order.createdAt ? new Date(order.createdAt).toISOString().split('T')[0] : '';
            if (orderDate !== dateFilter) return false;
          }
          return true;
        });
      }

      function renderSavedOrders() {
        const container = document.getElementById('saved-orders-contents');
        if (!container) return;
        const orders = getFilteredOrders();
        
        if (!orders.length) {
          container.innerHTML = '<p style="color:var(--ink-dim); text-align:center; padding:40px;">No orders found. Try adjusting your filters.</p>';
          return;
        }

        const tableHTML = `
          <table class="orders-table">
            <thead>
              <tr>
                <th>Order ID</th>
                <th>Customer Name</th>
                <th>Order Type</th>
                <th>Payment Method</th>
                <th>Items</th>
                <th>Item Count</th>
                <th>Total</th>
                <th>Date & Time</th>
              </tr>
            </thead>
            <tbody>
              ${orders.map(o => {
                const ts = o.createdAt ? new Date(o.createdAt).toLocaleString() : "";
                const itemsSummary = (o.items || []).map(it => `${it.name} (${it.qty})`).join(', ');
                return `
                  <tr>
                    <td><code>${o.id || 'N/A'}</code></td>
                    <td>${o.customerName || 'Guest'}</td>
                    <td><span class="order-type-badge order-type-${o.type?.toLowerCase().replace('-', '') || ''}">${o.type || 'N/A'}</span></td>
                    <td><span class="payment-method-badge payment-method-${o.paymentMethod?.toLowerCase() || ''}">${o.paymentMethod || 'N/A'}</span></td>
                    <td class="items-cell">${itemsSummary || 'N/A'}</td>
                    <td>${o.itemCount || 0}</td>
                    <td class="total-cell"><strong>${currency.format(o.total || 0)}</strong></td>
                    <td>${ts}</td>
                  </tr>
                `;
              }).join('')}
            </tbody>
          </table>
        `;
        container.innerHTML = tableHTML;
      }

      // Dashboard charts
      let revenueChart = null;
      let ordersTypeChart = null;
      let paymentMethodChart = null;
      let topItemsChart = null;

      function calculateDashboardStats() {
        const orders = getSavedOrders();
        
        // Total Revenue
        const totalRevenue = orders.reduce((sum, order) => sum + (order.total || 0), 0);
        
        // Total Orders
        const totalOrders = orders.length;
        
        // Total Customers (unique)
        const uniqueCustomers = new Set(orders.map(o => o.customerName || 'Guest')).size;
        
        // Average Order Value
        const avgOrderValue = totalOrders > 0 ? totalRevenue / totalOrders : 0;
        
        return {
          totalRevenue,
          totalOrders,
          uniqueCustomers,
          avgOrderValue,
          orders
        };
      }

      function updateDashboardStats() {
        const stats = calculateDashboardStats();
        
        document.getElementById('stat-total-revenue').textContent = currency.format(stats.totalRevenue);
        document.getElementById('stat-total-orders').textContent = stats.totalOrders;
        document.getElementById('stat-total-customers').textContent = stats.uniqueCustomers;
        document.getElementById('stat-avg-order').textContent = currency.format(stats.avgOrderValue);
      }

      function getRevenueByDate(orders) {
        const revenueByDate = {};
        orders.forEach(order => {
          if (order.createdAt) {
            const date = new Date(order.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            revenueByDate[date] = (revenueByDate[date] || 0) + (order.total || 0);
          }
        });
        
        const sortedDates = Object.keys(revenueByDate).sort((a, b) => {
          return new Date(a) - new Date(b);
        });
        
        return {
          labels: sortedDates.slice(-7), // Last 7 days
          data: sortedDates.slice(-7).map(date => revenueByDate[date])
        };
      }

      function getOrdersByType(orders) {
        const typeCount = {};
        orders.forEach(order => {
          const type = order.type || 'Unknown';
          typeCount[type] = (typeCount[type] || 0) + 1;
        });
        
        return {
          labels: Object.keys(typeCount),
          data: Object.values(typeCount),
          colors: ['#FF7A1A', '#FFD166', '#4ECDC4']
        };
      }

      function getPaymentMethods(orders) {
        const methodCount = {};
        orders.forEach(order => {
          const method = order.paymentMethod || 'Unknown';
          methodCount[method] = (methodCount[method] || 0) + 1;
        });
        
        return {
          labels: Object.keys(methodCount),
          data: Object.values(methodCount),
          colors: ['#4CAF50', '#9E9E9E']
        };
      }

      function getTopSellingItems(orders) {
        const itemCount = {};
        orders.forEach(order => {
          if (order.items) {
            order.items.forEach(item => {
              const name = item.name || 'Unknown';
              itemCount[name] = (itemCount[name] || 0) + (item.qty || 0);
            });
          }
        });
        
        // Sort by quantity and get top 5
        const sorted = Object.entries(itemCount)
          .sort((a, b) => b[1] - a[1])
          .slice(0, 5);
        
        return {
          labels: sorted.map(([name]) => name),
          data: sorted.map(([, count]) => count),
          colors: ['#FF7A1A', '#FFD166', '#4ECDC4', '#95E1D3', '#F38181']
        };
      }

      function renderDashboardCharts() {
        const orders = getSavedOrders();
        
        // Destroy existing charts if they exist
        if (revenueChart) revenueChart.destroy();
        if (ordersTypeChart) ordersTypeChart.destroy();
        if (paymentMethodChart) paymentMethodChart.destroy();
        if (topItemsChart) topItemsChart.destroy();
        
        // Revenue Over Time Chart
        const revenueData = getRevenueByDate(orders);
        const revenueCtx = document.getElementById('revenue-chart');
        if (revenueCtx) {
          revenueChart = new Chart(revenueCtx, {
            type: 'line',
            data: {
              labels: revenueData.labels,
              datasets: [{
                label: 'Revenue ($)',
                data: revenueData.data,
                borderColor: '#FF7A1A',
                backgroundColor: 'rgba(255, 122, 26, 0.1)',
                tension: 0.4,
                fill: true
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  display: false
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    callback: function(value) {
                      return '$' + value.toFixed(0);
                    }
                  }
                }
              }
            }
          });
        }
        
        // Orders by Type Chart
        const ordersTypeData = getOrdersByType(orders);
        const ordersTypeCtx = document.getElementById('orders-type-chart');
        if (ordersTypeCtx) {
          ordersTypeChart = new Chart(ordersTypeCtx, {
            type: 'doughnut',
            data: {
              labels: ordersTypeData.labels,
              datasets: [{
                data: ordersTypeData.data,
                backgroundColor: ordersTypeData.colors
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  position: 'bottom'
                }
              }
            }
          });
        }
        
        // Payment Methods Chart
        const paymentData = getPaymentMethods(orders);
        const paymentCtx = document.getElementById('payment-method-chart');
        if (paymentCtx) {
          paymentMethodChart = new Chart(paymentCtx, {
            type: 'pie',
            data: {
              labels: paymentData.labels,
              datasets: [{
                data: paymentData.data,
                backgroundColor: paymentData.colors
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  position: 'bottom'
                }
              }
            }
          });
        }
        
        // Top Selling Items Chart
        const topItemsData = getTopSellingItems(orders);
        const topItemsCtx = document.getElementById('top-items-chart');
        if (topItemsCtx) {
          topItemsChart = new Chart(topItemsCtx, {
            type: 'bar',
            data: {
              labels: topItemsData.labels,
              datasets: [{
                label: 'Quantity Sold',
                data: topItemsData.data,
                backgroundColor: topItemsData.colors
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  display: false
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    stepSize: 1
                  }
                }
              }
            }
          });
        }
      }

      function renderDashboardOrdersSummary() {
        const orders = getSavedOrders();
        const container = document.getElementById('dashboard-orders-summary');
        if (!container) return;
        
        // Get last 5 orders
        const recentOrders = orders.slice(0, 5);
        
        if (recentOrders.length === 0) {
          container.innerHTML = '<p style="text-align: center; color: var(--ink-dim); padding: 20px;">No orders yet.</p>';
          return;
        }
        
        const html = recentOrders.map(order => {
          const date = order.createdAt ? new Date(order.createdAt).toLocaleString() : 'N/A';
          return `
            <div class="dashboard-order-item">
              <div class="order-item-info">
                <strong>${order.customerName || 'Guest'}</strong>
                <span class="order-item-type">${order.type || 'N/A'}</span>
                <span class="order-item-payment">${order.paymentMethod || 'N/A'}</span>
              </div>
              <div class="order-item-amount">
                <strong>${currency.format(order.total || 0)}</strong>
                <span class="order-item-date">${date}</span>
              </div>
            </div>
          `;
        }).join('');
        
        container.innerHTML = html;
      }

      function showDashboard() {
        const modal = document.getElementById('admin-dashboard-modal');
        if (!modal) return;
        
        // Sync dashboard language selector
        const dashboardLangSelect = document.getElementById('dashboard-language-select');
        if (dashboardLangSelect) {
          dashboardLangSelect.value = currentLanguage;
        }
        
        // Sync dashboard theme toggle
        const dashboardThemeToggle = document.getElementById('dashboard-theme-toggle');
        if (dashboardThemeToggle) {
          const isDark = currentTheme === 'dark';
          dashboardThemeToggle.setAttribute('aria-pressed', String(isDark));
          const dashboardThemeIcon = dashboardThemeToggle.querySelector('.theme-toggle-icon');
          const dashboardThemeText = dashboardThemeToggle.querySelector('.theme-toggle-text');
          if (dashboardThemeIcon) dashboardThemeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
          if (dashboardThemeText) dashboardThemeText.textContent = isDark ? 'Light' : 'Dark';
        }
        
        // Apply translations to dashboard
        document.querySelectorAll('#admin-dashboard-modal [data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
          }
        });
        
        updateDashboardStats();
        renderDashboardCharts();
        renderDashboardOrdersSummary();
        
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }

      function hideDashboard() {
        const modal = document.getElementById('admin-dashboard-modal');
        if (modal) modal.classList.add('hidden');
        document.body.style.overflow = '';
      }

      document.getElementById("year").textContent = new Date().getFullYear();
      // initialize header total formatting once currency is ready
      const totalSpan = document.getElementById("cart-total");
      if (totalSpan) totalSpan.textContent = currency.format(0);
      window.addEventListener("DOMContentLoaded", async () => {
        // Initialize theme
        setTheme(currentTheme);
        const themeToggleBtn = document.getElementById('theme-toggle');
        if (themeToggleBtn) {
          themeToggleBtn.addEventListener('click', toggleTheme);
          updateThemeToggleButton();
        }

        // Initialize language
        setLanguage(currentLanguage);

        // Trigger fade-in animations once initial setup is done
        requestAnimationFrame(() => {
          document.body.classList.add('page-loaded');
        });
        
        // Language selector event listener
        const langSelect = document.getElementById('language-select');
        if (langSelect) {
          langSelect.addEventListener('change', (e) => {
            setLanguage(e.target.value);
          });
        }
        
        // Load orders from cloud on page load for cross-device sync
        try {
          const cloudData = await loadOrdersFromCloud();
          const localOrders = getSavedOrders();
          
          if (cloudData.orders && cloudData.orders.length > 0) {
            // Create a map of orders by ID for efficient lookup
            const localOrderMap = new Map(localOrders.map(o => [o.id, o]));
            const cloudOrderMap = new Map(cloudData.orders.map(o => [o.id, o]));
            
            // Merge: use cloud data if it exists, otherwise keep local
            const mergedOrders = [];
            const allOrderIds = new Set([...localOrderMap.keys(), ...cloudOrderMap.keys()]);
            
            allOrderIds.forEach(orderId => {
              // Prefer cloud data if available (it's more up-to-date)
              const order = cloudOrderMap.get(orderId) || localOrderMap.get(orderId);
              if (order) mergedOrders.push(order);
            });
            
            // Sort by date (newest first)
            mergedOrders.sort((a, b) => {
              const dateA = new Date(a.createdAt || 0);
              const dateB = new Date(b.createdAt || 0);
              return dateB - dateA;
            });
            
            // Save merged orders
            localStorage.setItem('demo_orders', JSON.stringify(mergedOrders));
            
            // Use cloud CSV if available, otherwise keep local
            if (cloudData.csvData) {
              localStorage.setItem(GLOBAL_ORDER_CSV_KEY, cloudData.csvData);
            }
            
            // Sync merged data back to cloud to ensure consistency
            const finalCsv = localStorage.getItem(GLOBAL_ORDER_CSV_KEY) || '';
            await syncOrdersToCloud(mergedOrders, finalCsv);
          } else if (localOrders.length > 0) {
            // If no cloud data but we have local data, sync it to cloud
            const localCsv = localStorage.getItem(GLOBAL_ORDER_CSV_KEY) || '';
            await syncOrdersToCloud(localOrders, localCsv);
          }
        } catch (error) {
          console.error('Failed to load from cloud:', error);
        }
        
        loadMenu().then(() => {
          wireFilters();
          
          // Order type button handlers
          document.querySelectorAll(".order-type-btn").forEach(btn => {
            btn.addEventListener("click", () => {
              document.querySelectorAll(".order-type-btn").forEach(b => b.classList.remove("active"));
              btn.classList.add("active");
              document.getElementById("order-type").value = btn.dataset.type;
            });
          });
          
          // Payment method button handlers
          document.querySelectorAll(".payment-method-btn").forEach(btn => {
            btn.addEventListener("click", () => {
              document.querySelectorAll(".payment-method-btn").forEach(b => b.classList.remove("active"));
              btn.classList.add("active");
              document.getElementById("payment-method").value = btn.dataset.method;
            });
          });
          
          // Modal event handlers
          const orderBtn = document.getElementById("cta-order");
          if (orderBtn) {
            orderBtn.addEventListener("click", (e) => {
              spawnRipple(e, orderBtn);
              showOrderModal();
            });
          }

          const closeBtn = document.querySelector(".modal-close");
          if (closeBtn) {
            closeBtn.addEventListener("click", hideOrderModal);
          }

          const cancelBtn = document.getElementById("cancel-order");
          if (cancelBtn) {
            cancelBtn.addEventListener("click", hideOrderModal);
          }

          const finalizeBtn = document.getElementById("finalize-order");
          if (finalizeBtn) {
            finalizeBtn.addEventListener("click", finalizeOrder);
          }

          // Payment modal handlers
          const paymentModal = document.getElementById("payment-modal");
          const paymentCloseBtn = document.querySelector(".payment-modal-close");
          const confirmPaymentBtn = document.getElementById("confirm-payment");
          const cancelPaymentBtn = document.getElementById("cancel-payment");
          
          if (paymentCloseBtn) {
            paymentCloseBtn.addEventListener("click", hidePaymentModal);
          }
          
          if (cancelPaymentBtn) {
            cancelPaymentBtn.addEventListener("click", () => {
              hidePaymentModal();
              currentOrderDetails = null;
            });
          }
          
          if (confirmPaymentBtn) {
            confirmPaymentBtn.addEventListener("click", confirmPayment);
          }
          
          if (paymentModal) {
            paymentModal.addEventListener("click", (e) => {
              if (e.target === paymentModal) {
                hidePaymentModal();
                currentOrderDetails = null;
              }
            });
          }

          const modal = document.getElementById("order-modal");
          if (modal) {
            modal.addEventListener("click", (e) => {
              if (e.target === modal) hideOrderModal();
            });
          }

          // Saved orders modal handlers
          const viewSavedBtn = document.getElementById('view-saved-orders');
          const savedModal = document.getElementById('saved-orders-modal');
          const savedClose = document.getElementById('saved-modal-close');
          const savedCloseBtn = document.getElementById('close-saved-orders');
          const clearSaved = document.getElementById('clear-saved-orders');
        const downloadOrdersBtn = document.getElementById('download-orders');
        const managerOrdersBtn = document.getElementById('manager-orders');
        const adminDashboardBtn = document.getElementById('admin-dashboard');
        const dashboardModal = document.getElementById('admin-dashboard-modal');
        const dashboardCloseBtn2 = document.getElementById('close-dashboard');
        const refreshDashboardBtn = document.getElementById('refresh-dashboard');
        
        const openSavedOrders = () => {
          if (!savedModal) return;
              renderSavedOrders();
              savedModal.classList.remove('hidden');
              document.body.style.overflow = 'hidden';
        };
        if (viewSavedBtn && savedModal) {
          viewSavedBtn.addEventListener('click', openSavedOrders);
          }
        if (managerOrdersBtn) managerOrdersBtn.addEventListener('click', openSavedOrders);
        
        // Dashboard event handlers
        if (adminDashboardBtn) {
          adminDashboardBtn.addEventListener('click', showDashboard);
        }
        if (dashboardCloseBtn2) {
          dashboardCloseBtn2.addEventListener('click', hideDashboard);
        }
        if (refreshDashboardBtn) {
          refreshDashboardBtn.addEventListener('click', () => {
            updateDashboardStats();
            renderDashboardCharts();
            renderDashboardOrdersSummary();
          });
        }
        if (dashboardModal) {
          dashboardModal.addEventListener('click', (e) => {
            if (e.target === dashboardModal) hideDashboard();
          });
        }
        
        // Dashboard language selector
        const dashboardLangSelect = document.getElementById('dashboard-language-select');
        if (dashboardLangSelect) {
          dashboardLangSelect.value = currentLanguage;
          dashboardLangSelect.addEventListener('change', (e) => {
            setLanguage(e.target.value);
            // Update main page language selector too
            if (langSelect) langSelect.value = e.target.value;
          });
        }
        
        // Dashboard theme toggle
        const dashboardThemeToggle = document.getElementById('dashboard-theme-toggle');
        if (dashboardThemeToggle) {
          dashboardThemeToggle.setAttribute('aria-pressed', String(currentTheme === 'dark'));
          const dashboardThemeIcon = dashboardThemeToggle.querySelector('.theme-toggle-icon');
          const dashboardThemeText = dashboardThemeToggle.querySelector('.theme-toggle-text');
          if (dashboardThemeIcon) dashboardThemeIcon.textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
          if (dashboardThemeText) dashboardThemeText.textContent = currentTheme === 'dark' ? 'Light' : 'Dark';
          
          dashboardThemeToggle.addEventListener('click', () => {
            toggleTheme();
            // Update main page theme toggle too
            updateThemeToggleButton();
            // Update dashboard theme toggle
            const isDark = currentTheme === 'dark';
            dashboardThemeToggle.setAttribute('aria-pressed', String(isDark));
            if (dashboardThemeIcon) dashboardThemeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
            if (dashboardThemeText) dashboardThemeText.textContent = isDark ? 'Light' : 'Dark';
          });
        }
        document.addEventListener('keydown', (e) => {
          if (e.altKey && e.shiftKey && e.key.toLowerCase() === 'o') {
            e.preventDefault();
            openSavedOrders();
          }
        });
          if (savedClose) savedClose.addEventListener('click', () => { savedModal.classList.add('hidden'); document.body.style.overflow = ''; });
          if (savedCloseBtn) savedCloseBtn.addEventListener('click', () => { savedModal.classList.add('hidden'); document.body.style.overflow = ''; });
        if (clearSaved) clearSaved.addEventListener('click', async () => {
          localStorage.removeItem('demo_orders');
          localStorage.removeItem(GLOBAL_ORDER_CSV_KEY);
          // Clear cloud storage
          await syncOrdersToCloud([], '');
          renderSavedOrders();
        });
        if (downloadOrdersBtn) downloadOrdersBtn.addEventListener('click', downloadOrdersCsvFile);

          // Filter event listeners
          const filterOrderType = document.getElementById('filter-order-type');
          const filterCustomer = document.getElementById('filter-customer');
          const filterDate = document.getElementById('filter-date');
          const resetFiltersBtn = document.getElementById('reset-filters');

          if (filterOrderType) filterOrderType.addEventListener('change', renderSavedOrders);
          if (filterCustomer) filterCustomer.addEventListener('input', renderSavedOrders);
          if (filterDate) filterDate.addEventListener('change', renderSavedOrders);
          if (resetFiltersBtn) {
            resetFiltersBtn.addEventListener('click', () => {
              if (filterOrderType) filterOrderType.value = '';
              if (filterCustomer) filterCustomer.value = '';
              if (filterDate) filterDate.value = '';
              renderSavedOrders();
            });
          }

          // Close modal on Escape key (all modals)
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
              const modalEl = document.getElementById("order-modal");
              if (modalEl && !modalEl.classList.contains("hidden")) {
                hideOrderModal();
              }
              const paymentModalEl = document.getElementById("payment-modal");
              if (paymentModalEl && !paymentModalEl.classList.contains("hidden")) {
                hidePaymentModal();
                currentOrderDetails = null;
              }
              const dashboardModalEl = document.getElementById('admin-dashboard-modal');
              if (dashboardModalEl && !dashboardModalEl.classList.contains('hidden')) {
                hideDashboard();
              }
              const sm = document.getElementById('saved-orders-modal');
              if (sm && !sm.classList.contains('hidden')) {
                sm.classList.add('hidden');
                document.body.style.overflow = '';
              }
            }
          });
        });
      });
    </script>
  </body>
  </html>


